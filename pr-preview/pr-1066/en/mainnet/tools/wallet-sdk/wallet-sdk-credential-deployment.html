


<!DOCTYPE html>


<html lang="en" data-content_root="../../" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Create an account &#8212; Concordium  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=947382ac" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tippy.css?v=6175c28d" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=716d1818"></script>
    <script src="../../_static/tabs.js?v=3030b3cb"></script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script defer="defer" src="https://unpkg.com/@popperjs/core@2"></script>
    <script defer="defer" src="https://unpkg.com/tippy.js@6"></script>
    <script defer="defer" src="../../_static/tippy/tools/wallet-sdk/wallet-sdk-credential-deployment.775f0eef-5494-4a71-9fac-adf3c1fcd419.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tools/wallet-sdk/wallet-sdk-credential-deployment';</script>
    <link rel="icon" href="../../_static/concordium-logo-no-text.svg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Submit a transaction to a Concordium node" href="wallet-sdk-account-transaction.html" />
    <link rel="prev" title="Recover an identity" href="wallet-sdk-identity-recovery.html" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,700;1,400;1,700&family=IBM+Plex+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap" />

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item"><style>
.navbar-brand img {
    max-height: 200px;
    width: auto;
}
</style>

<div>
    <a href="https://developer.concordium.software/">
        <img class="logo" src="../../_static/concordium-logo-dark.svg" />
    </a>
</div></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../docs/index.html">
                        Docs
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../tutorials/index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        Tools
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://github.com/Concordium" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github-square fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="mailto:support@concordium.software" title="Support" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Support</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://developer.concordium.software/en/mainnet/net/guides/developer-page.html#block-explorers" title="Monitor" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-chart-line fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Monitor</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://support.concordium.software/latest" title="Discourse" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-discourse fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Discourse</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/channel/UCPZc2CuB2jGbZjD_5zX7-1A" title="YouTube" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-youtube fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">YouTube</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://medium.com/concordium" title="Medium" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-medium fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Medium</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://academy.concordium.software/ccd-academy/getting-started" title="Academy" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-graduation-cap fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Academy</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../docs/index.html">
                        Docs
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../tutorials/index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        Tools
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://github.com/Concordium" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github-square fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="mailto:support@concordium.software" title="Support" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Support</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://developer.concordium.software/en/mainnet/net/guides/developer-page.html#block-explorers" title="Monitor" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-chart-line fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Monitor</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://support.concordium.software/latest" title="Discourse" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-discourse fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Discourse</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/channel/UCPZc2CuB2jGbZjD_5zX7-1A" title="YouTube" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-youtube fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">YouTube</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://medium.com/concordium" title="Medium" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-medium fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Medium</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://academy.concordium.software/ccd-academy/getting-started" title="Academy" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-graduation-cap fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Academy</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../developer-page.html"> Developer resources</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../sdks-apis.html">SDKs and APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grpc2.html">gRPC V2 documentation</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="wallet-sdk.html"> Wallet SDK</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="wallet-sdk-identity-creation.html">Create an identity</a></li>
<li class="toctree-l2"><a class="reference internal" href="wallet-sdk-identity-recovery.html">Recover an identity</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Create an account</a></li>
<li class="toctree-l2"><a class="reference internal" href="wallet-sdk-account-transaction.html">Submit a transaction to a Concordium node</a></li>
<li class="toctree-l2"><a class="reference internal" href="wallet-sdk-identity-provider.html">Get the list of identity providers</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ccd-scan/ccd-scan.html"> CCDScan</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ccd-scan/ccd-scan-blocks.html">CCDScan Blocks overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ccd-scan/ccd-scan-transactions.html">CCDScan Transactions overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ccd-scan/ccd-scan-accounts.html">CCDScan Accounts overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ccd-scan/ccd-scan-staking.html">CCDScan Staking overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ccd-scan/ccd-scan-nodes.html">CCDScan Nodes overview</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../concordium-client.html"> Concordium Client</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../transactions.html">Concordium Client transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../query-node.html">Querying a node</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multi-sig.html">Multi-sig</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer-tools.html"> Auxiliary Tools</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Tools</a></li>
    
    
    <li class="breadcrumb-item"><a href="wallet-sdk.html" class="nav-link">Wallet SDK</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Create an account</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="create-an-account">
<span id="wallet-sdk-credential-deployment"></span><h1>Create an account<a class="headerlink" href="#create-an-account" title="Link to this heading">#</a></h1>
<p>Having created an identity, the next step is to create an account. On Concordium, an account is an entity that can hold multiple credentials, but for the sake of keeping the example simple, the following guide will describe how to create an account with a single credential.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#create-a-credential-deployment-transaction">Create a credential deployment transaction</a></p></li>
<li><p><a class="reference internal" href="#sign-a-credential-deployment-transaction">Sign a credential deployment transaction</a></p></li>
<li><p><a class="reference internal" href="#send-a-credential-deployment-transaction">Send a credential deployment transaction</a></p></li>
</ul>
<section id="create-a-credential-deployment-transaction">
<h2>Create a credential deployment transaction<a class="headerlink" href="#create-a-credential-deployment-transaction" title="Link to this heading">#</a></h2>
<p>The following example demonstrates how a credential deployment transaction is created. Note that you must have saved the identity object and the identity provider that was used to create that identity, as they are required input for this transaction type.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">TypeScript (Web)</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">Kotlin (Android)</button><button aria-controls="panel-0-0-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-2" name="0-2" role="tab" tabindex="-1">Swift (macOS, iOS)</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">ConcordiumHdWallet</span><span class="p">,</span>
<span class="w">    </span><span class="nx">IdentityProvider</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@concordium/web-sdk&#39;</span><span class="p">;</span>

<span class="c1">// The identity object created previously. See the identity creation section.</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">identity</span><span class="o">:</span><span class="w"> </span><span class="kt">IdentityObjectV1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...;</span>

<span class="c1">// The identity provider that was used when creating the identity.</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">identity</span><span class="o">:</span><span class="w"> </span><span class="kt">IdentityProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">identityProviderIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">identityProvider</span><span class="p">.</span><span class="nx">ipInfo</span><span class="p">.</span><span class="nx">ipIdentity</span><span class="p">;</span>

<span class="c1">// Set up the wallet.</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">seedPhrase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;fence tongue sell large master side flock bronze ice accident what humble bring heart swear record valley party jar caution horn cushion endorse position&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">network</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Testnet&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// Or Mainnet, if working on mainnet.</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">wallet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ConcordiumHdWallet</span><span class="p">.</span><span class="nx">fromSeedPhrase</span><span class="p">(</span><span class="nx">seedPhrase</span><span class="p">,</span><span class="w"> </span><span class="nx">net</span><span class="p">);</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">prfKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getPrfKey</span><span class="p">(</span><span class="nx">identityProviderIndex</span><span class="p">,</span><span class="w"> </span><span class="nx">identityIndex</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">&#39;hex&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">idCredSec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getIdCredSec</span><span class="p">(</span><span class="nx">identityProviderIndex</span><span class="p">,</span><span class="w"> </span><span class="nx">identityIndex</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">&#39;hex&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">blindingRandomness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getSignatureBlindingRandomness</span><span class="p">(</span><span class="nx">identityProviderIndex</span><span class="p">,</span><span class="w"> </span><span class="nx">identityIndex</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">&#39;hex&#39;</span><span class="p">);</span>

<span class="c1">// The index of the credential to be created. The first should be 0, and then incremented by 1 for</span>
<span class="c1">// each credential created.</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">credNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">publicKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getAccountPublicKey</span><span class="p">(</span><span class="nx">identityProviderIndex</span><span class="p">,</span><span class="w"> </span><span class="nx">identityIndex</span><span class="p">,</span><span class="w"> </span><span class="nx">credNumber</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">&#39;hex&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">verifyKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">schemeId</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Ed25519&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">verifyKey</span><span class="o">:</span><span class="w"> </span><span class="kt">publicKey</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">credentialPublicKeys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">keys</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">0</span><span class="o">:</span><span class="w"> </span><span class="kt">verifyKey</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nx">threshold</span><span class="o">:</span><span class="w"> </span><span class="kt">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">attributeRandomness</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">attributeKeys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">AttributesKeys</span><span class="p">).</span><span class="nx">filter</span><span class="p">((</span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nb">isNaN</span><span class="p">(</span><span class="nb">Number</span><span class="p">(</span><span class="nx">v</span><span class="p">)));</span>
<span class="nx">attributeKeys</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">attributeRandomness</span><span class="p">[</span><span class="nx">v</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getAttributeCommitmentRandomness</span><span class="p">(</span><span class="nx">identityProviderIndex</span><span class="p">,</span><span class="w"> </span><span class="nx">identityIndex</span><span class="p">,</span><span class="w"> </span><span class="nx">credNumber</span><span class="p">,</span><span class="w"> </span><span class="nx">AttributesKeys</span><span class="p">[</span><span class="nx">v</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">AttributeKeyString</span><span class="p">]).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">&#39;hex&#39;</span><span class="p">));</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ConcordiumGRPCWebClient</span><span class="p">(</span><span class="nx">nodeAddress</span><span class="p">,</span><span class="w"> </span><span class="nx">nodePort</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">cryptographicParameters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">client</span><span class="p">.</span><span class="nx">getCryptographicParameters</span><span class="p">();</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">credentialInput</span><span class="o">:</span><span class="w"> </span><span class="kt">CredentialInputNoSeed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">revealedAttributes</span><span class="o">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">    </span><span class="nx">idObject</span><span class="o">:</span><span class="w"> </span><span class="kt">identity</span><span class="p">,</span>
<span class="w">    </span><span class="nx">globalContext</span><span class="o">:</span><span class="w"> </span><span class="kt">cryptographicParameters</span><span class="p">,</span>
<span class="w">    </span><span class="nx">credNumber</span><span class="p">,</span>
<span class="w">    </span><span class="nx">ipInfo</span><span class="o">:</span><span class="w"> </span><span class="kt">identityProvider.ipInfo</span><span class="p">,</span>
<span class="w">    </span><span class="nx">arsInfos</span><span class="o">:</span><span class="w"> </span><span class="kt">identityProvider.arsInfos</span><span class="p">,</span>
<span class="w">    </span><span class="nx">attributeRandomness</span><span class="p">,</span>
<span class="w">    </span><span class="nx">credentialPublicKeys</span><span class="p">,</span>
<span class="w">    </span><span class="nx">idCredSec</span><span class="p">,</span>
<span class="w">    </span><span class="nx">prfKey</span><span class="p">,</span>
<span class="w">    </span><span class="nx">sigRetrievelRandomness</span><span class="o">:</span><span class="w"> </span><span class="kt">blindingRandomness</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">expiry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">TransactionExpiry</span><span class="p">.</span><span class="nx">fromDate</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">360000</span><span class="p">));</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">credentialDeploymentTransaction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createCredentialTransactionNoSeed</span><span class="p">(</span>
<span class="w">    </span><span class="nx">credentialInput</span><span class="p">,</span>
<span class="w">    </span><span class="nx">expiry</span>
<span class="p">);</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><div class="highlight-Kotlin notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nn">cash.z.ecc.android.bip39.Mnemonics</span>
<span class="k">import</span><span class="w"> </span><span class="nn">cash.z.ecc.android.bip39.toSeed</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.example.wallet.services.ConcordiumClientService</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.example.wallet.services.ConcordiumWalletProxyService</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.crypto.wallet.ConcordiumHdWallet</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.crypto.wallet.Credential</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.crypto.wallet.Network</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.crypto.wallet.UnsignedCredentialInput</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.crypto.wallet.credential.CredentialDeploymentDetails</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.crypto.wallet.credential.UnsignedCredentialDeploymentInfoWithRandomness</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.requests.BlockQuery</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.responses.accountinfo.credential.AttributeType</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.transactions.CredentialPublicKeys</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.transactions.Expiry</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.transactions.Index</span>
<span class="k">import</span><span class="w"> </span><span class="nn">java.util.Collections</span>
<span class="k">import</span><span class="w"> </span><span class="nn">java.util.EnumMap</span>

<span class="kd">fun</span><span class="w"> </span><span class="nf">createCredentialDeploymentTransaction</span><span class="p">(</span><span class="n">identityIndex</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">credentialCounter</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="n">CredentialDeploymentDetails</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// The identity object created previously. See the identity creation section.</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">identity</span><span class="p">:</span><span class="w"> </span><span class="n">IdentityObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...</span>

<span class="w">    </span><span class="c1">// The index of the identity provider that was used for creating the identity.</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">identityProviderIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Connection</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="na">host</span><span class="p">(</span><span class="n">nodeAddress</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">port</span><span class="p">(</span><span class="n">nodePort</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">useTLS</span><span class="p">(</span><span class="n">TLSConfig</span><span class="p">.</span><span class="na">auto</span><span class="p">())</span>
<span class="w">        </span><span class="p">.</span><span class="na">build</span><span class="p">()</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ClientV2</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">identityDisclosureAuthorities</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Iterable</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">getAnonymityRevokers</span><span class="p">(</span><span class="n">BlockQuery</span><span class="p">.</span><span class="na">BEST</span><span class="p">)</span><span class="w"> </span><span class="p">}.</span><span class="na">associateBy</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">arIdentity</span><span class="p">.</span><span class="na">toString</span><span class="p">()</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">providers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">getIdentityProviders</span><span class="p">(</span><span class="n">BlockQuery</span><span class="p">.</span><span class="na">BEST</span><span class="p">)</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">provider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Iterable</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">providers</span><span class="w"> </span><span class="p">}.</span><span class="na">find</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">ipIdentity</span><span class="p">.</span><span class="na">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">identityProviderIndex</span><span class="w"> </span><span class="p">}</span><span class="o">!!</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">global</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">getCryptographicParameters</span><span class="p">(</span><span class="n">BlockQuery</span><span class="p">.</span><span class="na">BEST</span><span class="p">)</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">seedPhrase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;fence tongue sell large master side flock bronze ice accident what humble bring heart swear record valley party jar caution horn cushion endorse position&quot;</span>
<span class="w">    </span><span class="nd">@OptIn</span><span class="p">(</span><span class="n">ExperimentalStdlibApi</span><span class="o">::</span><span class="n">class</span><span class="p">)</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">seedAsHex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Mnemonics</span><span class="p">.</span><span class="na">MnemonicCode</span><span class="p">(</span><span class="n">seedPhrase</span><span class="p">.</span><span class="na">toCharArray</span><span class="p">()).</span><span class="na">toSeed</span><span class="p">().</span><span class="na">toHexString</span><span class="p">()</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">wallet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ConcordiumHdWallet</span><span class="p">.</span><span class="na">fromHex</span><span class="p">(</span><span class="n">seedAsHex</span><span class="p">,</span><span class="w"> </span><span class="n">Network</span><span class="p">.</span><span class="na">TESTNET</span><span class="p">)</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">attributeRandomness</span><span class="p">:</span><span class="w"> </span><span class="n">MutableMap</span><span class="o">&lt;</span><span class="n">AttributeType</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EnumMap</span><span class="p">(</span><span class="n">AttributeType</span><span class="o">::</span><span class="n">class</span><span class="p">.</span><span class="na">java</span><span class="p">)</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">attrType</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">identity</span><span class="p">.</span><span class="na">attributeList</span><span class="p">.</span><span class="na">chosenAttributes</span><span class="p">.</span><span class="na">keys</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">attributeRandomness</span><span class="o">[</span><span class="n">attrType</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wallet</span><span class="p">.</span><span class="na">getAttributeCommitmentRandomness</span><span class="p">(</span>
<span class="w">            </span><span class="n">identityProviderIndex</span><span class="p">,</span>
<span class="w">            </span><span class="n">identityIndex</span><span class="p">,</span>
<span class="w">            </span><span class="n">credentialCounter</span><span class="p">,</span>
<span class="w">            </span><span class="n">attrType</span><span class="p">.</span><span class="na">ordinal</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">blindingRandomness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wallet</span><span class="p">.</span><span class="na">getSignatureBlindingRandomness</span><span class="p">(</span><span class="n">identityProviderIndex</span><span class="p">,</span><span class="w"> </span><span class="n">identityIndex</span><span class="p">)</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">idCredSec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wallet</span><span class="p">.</span><span class="na">getIdCredSec</span><span class="p">(</span><span class="n">identityProviderIndex</span><span class="p">,</span><span class="w"> </span><span class="n">identityIndex</span><span class="p">)</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">prfKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wallet</span><span class="p">.</span><span class="na">getPrfKey</span><span class="p">(</span><span class="n">identityProviderIndex</span><span class="p">,</span><span class="w"> </span><span class="n">identityIndex</span><span class="p">)</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">publicKeys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CredentialPublicKeys</span><span class="p">.</span><span class="na">from</span><span class="p">(</span>
<span class="w">        </span><span class="n">Collections</span><span class="p">.</span><span class="na">singletonMap</span><span class="p">(</span>
<span class="w">            </span><span class="n">Index</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="m">0</span><span class="p">),</span>
<span class="w">            </span><span class="n">wallet</span><span class="p">.</span><span class="na">getAccountPublicKey</span><span class="p">(</span>
<span class="w">                </span><span class="n">identityProviderIndex</span><span class="p">,</span>
<span class="w">                </span><span class="n">identityIndex</span><span class="p">,</span>
<span class="w">                </span><span class="n">credentialCounter</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">),</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">input</span><span class="p">:</span><span class="w"> </span><span class="n">UnsignedCredentialInput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UnsignedCredentialInput</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="na">ipInfo</span><span class="p">(</span><span class="n">provider</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">globalContext</span><span class="p">(</span><span class="n">global</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">arsInfos</span><span class="p">(</span><span class="n">identityDisclosureAuthorities</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">idObject</span><span class="p">(</span><span class="n">identity</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">credNumber</span><span class="p">(</span><span class="n">credentialCounter</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">attributeRandomness</span><span class="p">(</span><span class="n">attributeRandomness</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">blindingRandomness</span><span class="p">(</span><span class="n">blindingRandomness</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">credentialPublicKeys</span><span class="p">(</span><span class="n">publicKeys</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">idCredSec</span><span class="p">(</span><span class="n">idCredSec</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">prfKey</span><span class="p">(</span><span class="n">prfKey</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">revealedAttributes</span><span class="p">(</span><span class="n">emptyList</span><span class="p">())</span>
<span class="w">        </span><span class="p">.</span><span class="na">build</span><span class="p">()</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">expiry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Expiry</span><span class="p">.</span><span class="na">createNew</span><span class="p">().</span><span class="na">addMinutes</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">CredentialDeploymentDetails</span><span class="p">(</span><span class="n">Credential</span><span class="p">.</span><span class="na">createUnsignedCredential</span><span class="p">(</span><span class="n">input</span><span class="p">).</span><span class="na">unsignedCdi</span><span class="p">,</span><span class="w"> </span><span class="n">expiry</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-2" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-2" name="0-2" role="tabpanel" tabindex="0"><div class="highlight-Swift notranslate"><div class="highlight"><pre><span></span><span class="kd">import</span> <span class="nc">Concordium</span>
<span class="kd">import</span> <span class="nc">MnemonicSwift</span> <span class="c1">// external package for converting seed phrase to bytes</span>

<span class="c1">// Inputs.</span>
<span class="kd">let</span> <span class="nv">seedPhrase</span> <span class="p">=</span> <span class="s">&quot;fence tongue sell large master side flock bronze ice accident what humble bring heart swear record valley party jar caution horn cushion endorse position&quot;</span>
<span class="kd">let</span> <span class="nv">network</span> <span class="p">=</span> <span class="n">Network</span><span class="p">.</span><span class="n">testnet</span>
<span class="kd">let</span> <span class="nv">identityProviderID</span> <span class="p">=</span> <span class="n">IdentityProviderID</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">identityIndex</span> <span class="p">=</span> <span class="n">IdentityIndex</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">credentialCounter</span> <span class="p">=</span> <span class="n">CredentialCounter</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">walletProxyBaseURL</span> <span class="p">=</span> <span class="n">URL</span><span class="p">(</span><span class="n">string</span><span class="p">:</span> <span class="s">&quot;https://wallet-proxy.testnet.concordium.com&quot;</span><span class="p">)</span><span class="o">!</span>
<span class="kd">let</span> <span class="nv">identityDisclosureThreshold</span> <span class="p">=</span> <span class="n">RevocationThreshold</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1">// Configure seed and Wallet Proxy instance.</span>
<span class="kd">let</span> <span class="nv">seedHex</span> <span class="p">=</span> <span class="k">try</span> <span class="n">Mnemonic</span><span class="p">.</span><span class="n">deterministicSeedString</span><span class="p">(</span><span class="n">from</span><span class="p">:</span> <span class="n">seedPhrase</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">seed</span> <span class="p">=</span> <span class="n">WalletSeed</span><span class="p">(</span><span class="n">seedHex</span><span class="p">:</span> <span class="n">seedHex</span><span class="p">,</span> <span class="n">network</span><span class="p">:</span> <span class="n">network</span><span class="p">)</span>

<span class="kd">let</span> <span class="nv">identity</span><span class="p">:</span> <span class="n">IdentityObject</span> <span class="p">=</span> <span class="p">...</span> <span class="c1">// retrieved from storage or identity recovery</span>

<span class="c1">// Derive seed based credential.</span>
<span class="kd">let</span> <span class="nv">accountDerivation</span> <span class="p">=</span> <span class="n">SeedBasedAccountDerivation</span><span class="p">(</span><span class="n">seed</span><span class="p">:</span> <span class="n">seed</span><span class="p">,</span> <span class="n">cryptoParams</span><span class="p">:</span> <span class="n">cryptoParams</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">seedIndexes</span> <span class="p">=</span> <span class="n">AccountCredentialSeedIndexes</span><span class="p">(</span>
    <span class="n">identity</span><span class="p">:</span> <span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="n">providerID</span><span class="p">:</span> <span class="n">identityProviderID</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="n">identityIndex</span><span class="p">),</span>
    <span class="n">counter</span><span class="p">:</span> <span class="n">credentialCounter</span>
<span class="p">)</span>
<span class="c1">// Credential to deploy.</span>
<span class="kd">let</span> <span class="nv">credential</span> <span class="p">=</span> <span class="k">try</span> <span class="n">accountDerivation</span><span class="p">.</span><span class="n">deriveCredential</span><span class="p">(</span>
    <span class="n">seedIndexes</span><span class="p">:</span> <span class="n">seedIndexes</span><span class="p">,</span>
    <span class="n">identity</span><span class="p">:</span> <span class="n">identity</span><span class="p">,</span>
    <span class="n">provider</span><span class="p">:</span> <span class="n">identityProvider</span><span class="p">,</span>
    <span class="n">threshold</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">)</span>
<span class="c1">// Account used to sign the deployment.</span>
<span class="c1">// The account is composed from just the credential derived above.</span>
<span class="c1">// From this call the credential&#39;s signing key will be derived;</span>
<span class="c1">// in the previous only the public key was.</span>
<span class="kd">let</span> <span class="nv">account</span> <span class="p">=</span> <span class="k">try</span> <span class="n">accountDerivation</span><span class="p">.</span><span class="n">deriveAccount</span><span class="p">(</span><span class="n">credentials</span><span class="p">:</span> <span class="p">[</span><span class="n">seedIndexes</span><span class="p">])</span>
</pre></div>
</div>
</div></div>
</section>
<section id="sign-a-credential-deployment-transaction">
<h2>Sign a credential deployment transaction<a class="headerlink" href="#sign-a-credential-deployment-transaction" title="Link to this heading">#</a></h2>
<p>With the credential deployment transaction created, the next step is to sign the transaction. It is important that the key used for signing the transaction
is the signing key that corresponds to the public key used when creating the transaction. If they do not match, then the transaction will be rejected.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" role="tablist"><button aria-controls="panel-1-1-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-1-1-0" name="1-0" role="tab" tabindex="0">TypeScript (Web)</button><button aria-controls="panel-1-1-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-1-1-1" name="1-1" role="tab" tabindex="-1">Kotlin (Android)</button><button aria-controls="panel-1-1-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-1-1-2" name="1-2" role="tab" tabindex="-1">Swift (iOS)</button></div><div aria-labelledby="tab-1-1-0" class="sphinx-tabs-panel" id="panel-1-1-0" name="1-0" role="tabpanel" tabindex="0"><div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">ConcordiumHdWallet</span><span class="p">,</span>
<span class="w">    </span><span class="nx">CredentialDeploymentDetails</span><span class="p">,</span>
<span class="w">    </span><span class="nx">CredentialDeploymentTransaction</span><span class="p">,</span>
<span class="w">    </span><span class="nx">signCredentialTransaction</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@concordium/web-sdk&#39;</span><span class="p">;</span>

<span class="c1">// The credential deployment transaction created in the previous section.</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">credentialDeploymentTransaction</span><span class="o">:</span><span class="w"> </span><span class="nx">CredentialDeploymentTransaction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...;</span>

<span class="c1">// The key used to sign the credential deployment transaction must be the corresponding</span>
<span class="c1">// secret key for the public key that was used to construct the transaction.</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">seedPhrase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;fence tongue sell large master side flock bronze ice accident what humble bring heart swear record valley party jar caution horn cushion endorse position&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">network</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Testnet&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// Or Mainnet, if working on mainnet.</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">wallet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ConcordiumHdWallet</span><span class="p">.</span><span class="nx">fromSeedPhrase</span><span class="p">(</span><span class="nx">seedPhrase</span><span class="p">,</span><span class="w"> </span><span class="nx">network</span><span class="p">);</span>

<span class="c1">// The credNumber and the identityIndex must identical to what was used when deriving</span>
<span class="c1">// the keys to create the credential deployment transaction.</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">credNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">identityIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">signingKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">wallet</span><span class="p">.</span><span class="nx">getAccountSigningKey</span><span class="p">(</span><span class="nx">credentialDeploymentTransaction</span><span class="p">.</span><span class="nx">unsignedCdi</span><span class="p">.</span><span class="nx">ipIdentity</span><span class="p">,</span><span class="w"> </span><span class="nx">identityIndex</span><span class="p">,</span><span class="w"> </span><span class="nx">credNumber</span><span class="p">);</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">signature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">signCredentialTransaction</span><span class="p">(</span><span class="nx">credentialDeploymentTransaction</span><span class="p">,</span><span class="w"> </span><span class="nx">signingKey</span><span class="p">);</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-1-1" class="sphinx-tabs-panel" hidden="true" id="panel-1-1-1" name="1-1" role="tabpanel" tabindex="0"><div class="highlight-Kotlin notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nn">cash.z.ecc.android.bip39.Mnemonics</span>
<span class="k">import</span><span class="w"> </span><span class="nn">cash.z.ecc.android.bip39.toSeed</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.crypto.wallet.ConcordiumHdWallet</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.crypto.wallet.Credential</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.crypto.wallet.Network</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.crypto.wallet.credential.CredentialDeploymentDetails</span>

<span class="kd">fun</span><span class="w"> </span><span class="nf">signCredentialDeployment</span><span class="p">(</span><span class="n">credentialDeployment</span><span class="p">:</span><span class="w"> </span><span class="n">CredentialDeploymentDetails</span><span class="p">):</span><span class="w"> </span><span class="n">ByteArray</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">seedPhrase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;fence tongue sell large master side flock bronze ice accident what humble bring heart swear record valley party jar caution horn cushion endorse position&quot;</span>
<span class="w">    </span><span class="nd">@OptIn</span><span class="p">(</span><span class="n">ExperimentalStdlibApi</span><span class="o">::</span><span class="n">class</span><span class="p">)</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">seedAsHex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Mnemonics</span><span class="p">.</span><span class="na">MnemonicCode</span><span class="p">(</span><span class="n">seedPhrase</span><span class="p">.</span><span class="na">toCharArray</span><span class="p">()).</span><span class="na">toSeed</span><span class="p">().</span><span class="na">toHexString</span><span class="p">()</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">wallet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ConcordiumHdWallet</span><span class="p">.</span><span class="na">fromHex</span><span class="p">(</span><span class="n">seedAsHex</span><span class="p">,</span><span class="w"> </span><span class="n">Network</span><span class="p">.</span><span class="na">TESTNET</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// The credentialCounter and the identityIndex must identical to what was used when deriving</span>
<span class="w">    </span><span class="c1">// the keys to create the credential deployment transaction.</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">credentialCounter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">identityIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>

<span class="w">    </span><span class="c1">// The indentityProvider index must be indentical to the index of the identity provider</span>
<span class="w">    </span><span class="c1">// that was used to create the identity that the credential is for.</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">identityProviderIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">credentialDeploymentSignDigest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Credential</span><span class="p">.</span><span class="na">getCredentialDeploymentSignDigest</span><span class="p">(</span><span class="n">credentialDeployment</span><span class="p">)</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">signingKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wallet</span><span class="p">.</span><span class="na">getAccountSigningKey</span><span class="p">(</span>
<span class="w">        </span><span class="n">identityProviderIndex</span><span class="p">,</span>
<span class="w">        </span><span class="n">identityIndex</span><span class="p">,</span>
<span class="w">        </span><span class="n">credentialCounter</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">signingKey</span><span class="p">.</span><span class="na">sign</span><span class="p">(</span><span class="n">credentialDeploymentSignDigest</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-1-2" class="sphinx-tabs-panel" hidden="true" id="panel-1-1-2" name="1-2" role="tabpanel" tabindex="0"><div class="highlight-Swift notranslate"><div class="highlight"><pre><span></span><span class="kd">import</span> <span class="nc">Concordium</span>

<span class="c1">// Inputs.</span>
<span class="kd">let</span> <span class="nv">expiry</span> <span class="p">=</span> <span class="n">TransactionTime</span><span class="p">(</span><span class="mi">9_999_999_999</span><span class="p">)</span>

<span class="kd">let</span> <span class="nv">credential</span><span class="p">:</span> <span class="n">AccountCredential</span> <span class="c1">// from previous section</span>
<span class="kd">let</span> <span class="nv">signingAccount</span><span class="p">:</span> <span class="n">Account</span> <span class="c1">// from previous section</span>

<span class="c1">// Sign deployment transaction.</span>
<span class="kd">let</span> <span class="nv">signedTx</span> <span class="p">=</span> <span class="k">try</span> <span class="n">signingAccount</span><span class="p">.</span><span class="n">keys</span><span class="p">.</span><span class="n">sign</span><span class="p">(</span><span class="n">deployment</span><span class="p">:</span> <span class="n">credential</span><span class="p">,</span> <span class="n">expiry</span><span class="p">:</span> <span class="n">expiry</span><span class="p">)</span>
</pre></div>
</div>
</div></div>
</section>
<section id="send-a-credential-deployment-transaction">
<h2>Send a credential deployment transaction<a class="headerlink" href="#send-a-credential-deployment-transaction" title="Link to this heading">#</a></h2>
<p>Having created and signed the credential deployment transaction, the final step is to send it to a Concordium node. The SDKs provide a
utility function that does this by simply providing it the credential deployment transaction and the signature on the transaction. The result
of the call is a transaction hash that can then be used to monitor the status of the transaction.</p>
<p>If successful, the credential will be deployed, and it is now possible to start creating account transactions. Go to
<a class="reference internal" href="wallet-sdk-account-transaction.html#wallet-sdk-account-transaction"><span class="std std-ref">Submit a transaction to a Concordium node</span></a> for a guide about creating account transactions.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" role="tablist"><button aria-controls="panel-2-2-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-2-2-0" name="2-0" role="tab" tabindex="0">TypeScript (Web)</button><button aria-controls="panel-2-2-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-2-2-1" name="2-1" role="tab" tabindex="-1">Kotlin (Android)</button><button aria-controls="panel-2-2-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-2-2-2" name="2-2" role="tab" tabindex="-1">Swift (macOS, iOS)</button></div><div aria-labelledby="tab-2-2-0" class="sphinx-tabs-panel" id="panel-2-2-0" name="2-0" role="tabpanel" tabindex="0"><div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">sendCredentialDeploymentTransaction</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@concordium/web-sdk&#39;</span><span class="p">;</span>

<span class="c1">// The credential deployment transaction created in the first section.</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">credentialDeploymentTransaction</span><span class="o">:</span><span class="w"> </span><span class="nx">CredentialDeploymentTransaction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...;</span>

<span class="c1">// The signature on the credential deployment transaction from the previous section.</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">signature</span><span class="o">:</span><span class="w"> </span><span class="nx">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">transactionHash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">sendCredentialDeploymentTransaction</span><span class="p">(</span>
<span class="w">    </span><span class="nx">credentialDeploymentTransaction</span><span class="p">,</span>
<span class="w">    </span><span class="nx">signature</span>
<span class="p">);</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-2-1" class="sphinx-tabs-panel" hidden="true" id="panel-2-2-1" name="2-1" role="tabpanel" tabindex="0"><div class="highlight-Kotlin notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.crypto.wallet.Credential</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.crypto.wallet.credential.CredentialDeploymentDetails</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.crypto.wallet.credential.CredentialDeploymentSerializationContext</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.transactions.CredentialDeploymentTransaction</span>
<span class="k">import</span><span class="w"> </span><span class="nn">com.concordium.sdk.transactions.Index</span>
<span class="k">import</span><span class="w"> </span><span class="nn">org.apache.commons.codec.binary.Hex</span>

<span class="kd">fun</span><span class="w"> </span><span class="nf">sendCredentialDeploymentTransaction</span><span class="p">():</span><span class="w"> </span><span class="n">Hash</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// The credential deployment details created in the first section.</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">credentialDeploymentDetails</span><span class="p">:</span><span class="w"> </span><span class="n">CredentialDeploymentDetails</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...</span>

<span class="w">    </span><span class="c1">// The signature on the credential deployment transaction from the previous section</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">signature</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CredentialDeploymentSerializationContext</span><span class="p">(</span>
<span class="w">        </span><span class="n">credentialDeployment</span><span class="p">.</span><span class="na">unsignedCdi</span><span class="p">,</span>
<span class="w">        </span><span class="n">mapOf</span><span class="p">(</span><span class="n">Pair</span><span class="p">(</span><span class="n">Index</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="m">0</span><span class="p">),</span><span class="w"> </span><span class="n">Hex</span><span class="p">.</span><span class="na">encodeHexString</span><span class="p">(</span><span class="n">signature</span><span class="p">)))</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">credentialPayload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Credential</span><span class="p">.</span><span class="na">serializeCredentialDeploymentPayload</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">credentialDeploymentTransaction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CredentialDeploymentTransaction</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">credentialDeploymentDetails</span><span class="p">.</span><span class="na">expiry</span><span class="p">,</span><span class="w"> </span><span class="n">credentialPayload</span><span class="p">)</span>

<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Connection</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="na">host</span><span class="p">(</span><span class="n">nodeAddress</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">port</span><span class="p">(</span><span class="n">nodePort</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="na">useTLS</span><span class="p">(</span><span class="n">TLSConfig</span><span class="p">.</span><span class="na">auto</span><span class="p">())</span>
<span class="w">        </span><span class="p">.</span><span class="na">build</span><span class="p">()</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ClientV2</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">sendCredentialDeploymentTransaction</span><span class="p">(</span><span class="n">credentialDeploymentTransaction</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-2-2" class="sphinx-tabs-panel" hidden="true" id="panel-2-2-2" name="2-2" role="tabpanel" tabindex="0"><div class="highlight-Swift notranslate"><div class="highlight"><pre><span></span><span class="kd">import</span> <span class="nc">Concordium</span>
<span class="kd">import</span> <span class="nc">GRPC</span> <span class="c1">// external dependency for gRPC client</span>

<span class="kd">let</span> <span class="nv">grpcChannel</span><span class="p">:</span> <span class="n">GRPCChannel</span> <span class="c1">// see docs for package GRPC or examples in SDK repo</span>
<span class="kd">let</span> <span class="nv">client</span><span class="p">:</span> <span class="n">NodeClient</span> <span class="p">=</span> <span class="n">GRPCNodeClient</span><span class="p">(</span><span class="n">channel</span><span class="p">:</span> <span class="n">grpcChannel</span><span class="p">)</span>

<span class="kd">let</span> <span class="nv">signedTx</span><span class="p">:</span> <span class="n">SignedAccountCredentialDeployment</span> <span class="c1">// from previous section</span>

<span class="kd">let</span> <span class="nv">serializedTx</span> <span class="p">=</span> <span class="k">try</span> <span class="n">signedTx</span><span class="p">.</span><span class="n">serialize</span><span class="p">()</span>
<span class="kd">let</span> <span class="nv">hash</span> <span class="p">=</span> <span class="k">try</span> <span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">deployment</span><span class="p">:</span> <span class="n">serializedTx</span><span class="p">)</span>
<span class="bp">print</span><span class="p">(</span><span class="s">&quot;Transaction with hash &#39;</span><span class="si">\(</span><span class="n">hash</span><span class="p">.</span><span class="n">hex</span><span class="si">)</span><span class="s">&#39; successfully submitted.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div></div>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  <div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><style>
  legend {
    font-size: 12px;
    font-weight:bold ;
  }

  label {
    font-size: 12px;
  }
</style>

<fieldset>
  <legend>Was this article helpful?</legend>
  <input type="radio" id="Yes" name="rating" value="Yes" onclick="_paq.push(['trackEvent', 'Rating', 'ClickYes', 'Yes']);">
  <label for="Yes">Yes</label>
  <input type="radio" id="No" name="rating" value="No" onclick="_paq.push(['trackEvent', 'Rating', 'ClickNo', 'No']);">
  <label for="No">No</label>
</fieldset>

<!-- Matomo Tag Manager -->
<script>
  var _mtm = window._mtm = window._mtm || [];
  _mtm.push({'mtm.startTime': (new Date().getTime()), 'event': 'mtm.Start'});
  (function() {
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src='https://cdn.matomo.cloud/concordium.matomo.cloud/container_8ZIoCz8b.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Tag Manager --></div>
  
</div>
                </footer>
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="wallet-sdk-identity-recovery.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Recover an identity</p>
      </div>
    </a>
    <a class="right-next"
       href="wallet-sdk-account-transaction.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Submit a transaction to a Concordium node</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-credential-deployment-transaction">Create a credential deployment transaction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sign-a-credential-deployment-transaction">Sign a credential deployment transaction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-a-credential-deployment-transaction">Send a credential deployment transaction</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/Concordium/concordium.github.io/edit/main/source/mainnet/tools/wallet-sdk/wallet-sdk-credential-deployment.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  

  <p class="copyright">
    
      © Copyright 2021 - 2024, Concordium Software ApS.
      <br/>
    
  </p>

  <style>
    .cc {
      position: relative;
      bottom: 0%;
      left: 0%;
    }

    .cc a {
      display: inline-block;
      text-align: left;
      padding-left: 16px;
      padding-bottom: 8px;
      color: black;
      font-size: 8px;
    }
</style>

<div class="cc">
  <a text-decoration=none href="http://creativecommons.org/licenses/by-sa/4.0/">
    <img src="../../_static/cc-sa-by.png" />
  </a>
  <a text-decoration=none href="../../net/guides/legal.html" >
    Legal information
  </a>
</div>
  <div id="cookie-consent" class="consent">
    <p>This website only aggregates and analyzes the actions you take here if you allow cookies. If you do not allow cookies, it protects your privacy, but also prevents the owner from learning from your actions and creating a better experience for you and other users.</p><p>Note that if you opt in and you clear your cookies, delete the opt-in cookie, or if you change computers or Web browsers, you will need to perform the opt-in procedure again.</p>
    <button onclick="consentGranted()">Allow</button>
    <button onclick="consentDenied()">Decline</button>
    <a href="https://concordium.com/privacy-policy/">Privacy policy</a>
</div>

<!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];

// Save the choice in a cookie
function storeChoice(granted) {
  document.cookie = "cookie-consent=" + granted
}

// Look for a cookie storing the previous choice of the user.
// Returns undefined if no choice was stored, otherwise a boolean for whether the
// user gave consent.
function loadChoice() {
  if (!document.cookie.includes("cookie-consent=")) {
      return undefined;
  }
  return document.cookie.includes("cookie-consent=true")
}

// Removes the cookie consent banner
function removeCookieConsentBanner() {
  document.getElementById("cookie-consent").remove()
}

// Called by the cookie consent banner if granted permission
function consentGranted() {
  storeChoice(true)
  _paq.push(['setCookieConsentGiven']);
  removeCookieConsentBanner()
}

// Called by the cookie consent banner if denied permission
function consentDenied() {
  storeChoice(true)
  removeCookieConsentBanner()
}

const stored = loadChoice();
if (stored) {
 consentGranted()
}

_paq.push(['requireCookieConsent']);
/* tracker methods like "setCustomDimension" should be called before "trackPageView" */
_paq.push(['trackPageView']);
_paq.push(['enableLinkTracking']);

(function() {
    var u="https://concordium.matomo.cloud/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '2']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src='//cdn.matomo.cloud/concordium.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
  })();

  // remember tracking consent was given for all subsequent page views and visits
_paq.push(['rememberCookieConsentGiven']);

</script>


<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/4771748.js"></script>
<!-- End of HubSpot Embed Code -->

  </body>
</html>