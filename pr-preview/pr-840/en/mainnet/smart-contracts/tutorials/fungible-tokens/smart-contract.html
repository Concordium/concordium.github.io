


<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart contract implementation for fungible tokens &#8212; Concordium  documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/design-tabs.js"></script>
    <link rel="shortcut icon" href="../../../_static/concordium-logo-no-text.svg"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Mint, transfer, and burn fungible tokens" href="mint-xfer.html" />
    <link rel="prev" title="Mint fungible tokens" href="index.html" />
<link href="../../../_static/style.css" rel="stylesheet" type="text/css">

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../../index.html">
  <img src="../../../_static/concordium-logo-dark.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class=" collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<style>
body {margin:0;}

.navbar-menu {
  position: fixed;
  background-color: var(--bg-color);
}

.navbar-menu a {
  display: inline;
  text-align: left;
  padding: 16px;
  color: var(--font-color);
  font-size: 15px;
}
/* Large devices (laptops/desktops, 992px to 768px ) */
@media only screen and (max-width: 1178px) {
  .navbar-menu {
    display: none;}

}
</style>
<body>

<div class="navbar-menu w3-hide-medium w3-hide-small">
  <a href="../../../net/installation/downloads.html">Install</a>
  <a href="../../../net/guides/learn-about-concordium.html">Learn</a>
  <a href="../../../net/nodes/node-requirements.html">Run a node</a>
  <a href="../../../net/guides/deciding-wallet.html">Wallets</a>
  <a href="../../../net/guides/how-to-earn.html">Earn</a>
  <a href="../../../net/guides/developer-page.html">Develop</a>
  <a href="../../general/introduction.html">Smart Contracts</a>
  <a href="../../../net/guides/create-proofs.html">Use ID</a>
</div>
</body>
</html>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/Concordium" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="mailto:support@concordium.software" rel="noopener" target="_blank" title="Support"><span><i class="fas fa-envelope"></i></span>
            <label class="sr-only">Support</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://support.concordium.software/latest" rel="noopener" target="_blank" title="Discourse"><img src="../../../_static/discourse-brands.svg" class="icon-link-image" alt="Discourse"/></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="mailto:documentation@concordium.com" rel="noopener" target="_blank" title="Feedback"><span><i class="fas fa-bullhorn"></i></span>
            <label class="sr-only">Feedback</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="list-caption">
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    Releases and Installation
   </span>
  </p>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="nav bd-sidenav">
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/installation/downloads.html">
     Downloads
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/installation/downloads-testnet.html">
     Downloads - Testnet
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/release-notes/release-notes-lp.html">
     Release notes
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/installation/verification-instructions.html">
     Verification instructions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    Learn
   </span>
  </p>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="nav bd-sidenav">
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/guides/learn-about-concordium.html">
     Learn about Concordium
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../../../net/concepts/id-accounts.html">
       Identities
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
      <label for="toctree-checkbox-4">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/guides/company-identities.html">
         Company identity creation
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/references/manage-accounts.html">
       Accounts
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/resources/glossary.html">
       Glossary of Concordium Terms
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    Concordium Wallets
   </span>
  </p>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="nav bd-sidenav">
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/guides/deciding-wallet.html">
     Deciding between the wallets
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/concepts/concepts-transactions.html">
       Transactions overview
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/guides/wallet-faqs.html">
     Wallet FAQs
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/mobile-wallet-gen2/faq.html">
       Concordium Wallet for Mobile FAQ
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/browser-wallet/browser-wallet-faq.html">
       Concordium Wallet for Web FAQ
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/browser-wallet/setup-browser-wallet.html">
     Set up the Concordium Wallet for Web
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/mobile-wallet-gen2/setup-mobile-wallet.html">
     Set up the Concordium Wallet for Mobile
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/mobile-wallet/setup-mobile-wallet.html">
     Set up the Concordium Legacy Wallet
    </a>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/guides/overview-desktop.html">
     Set up the Desktop Wallet
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/desktop-wallet/accounts-desktop.html">
       Desktop Wallet navigation and settings
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/desktop-wallet/update-application.html">
       Update the Desktop Wallet
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/desktop-wallet/reset-data.html">
       Reset desktop wallet data
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/guides/create-identity.html">
     Create an identity
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
    <label for="toctree-checkbox-9">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/guides/change-identity-name.html">
       Change identity name
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/guides/create-account.html">
     Create an account
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/guides/change-account-name.html">
       Change account name
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/guides/send-ccd-wallets.html">
     Send CCD
    </a>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/browser-wallet/connect-app.html">
     Connect dApps to wallets
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
    <label for="toctree-checkbox-11">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/guides/proofs.html">
       Proofs and revealing information
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/guides/tokens.html">
     Tokens in the wallet
    </a>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/guides/shield-ccd-wallets.html">
     Shield and unshield CCD on an account
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
    <label for="toctree-checkbox-12">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/guides/shielded-transfer.html">
       Make a shielded transfer on an account
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/guides/export-key.html">
     Export a private key
    </a>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/guides/recovery.html">
     Backup and recovery
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
    <label for="toctree-checkbox-13">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/guides/export-import.html">
       Make a backup of identities, accounts, and addresses
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/guides/recover-wallet.html">
       Recover your Wallet
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/mobile-wallet/share-address-mw.html">
     Find and share your account address
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/mobile-wallet/change-passcode-mw.html">
     Update your passcode and biometric settings
    </a>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/guides/scheduled-release.html">
     Scheduled releases
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
    <label for="toctree-checkbox-14">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/desktop-wallet/single-sign-schedule.html">
       Transfer CCD with a schedule in Desktop Wallet
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/mobile-wallet/inspect-release-schedule-mw.html">
       Inspect a release schedule
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/guides/address-book.html">
     Manage address book
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/guides/transaction-report.html">
     Create a transaction report
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/desktop-wallet/transaction-log-filter.html">
     Apply a transaction log filter in the Desktop Wallet
    </a>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/guides/overview-shared-accounts.html">
     Shared accounts with multiple credentials in Desktop Wallet
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
    <label for="toctree-checkbox-15">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/desktop-wallet/create-credentials-file.html">
       Create a credentials file
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/guides/multi-credentials.html">
       Add credentials to an account
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/desktop-wallet/multisig-simple-transfer.html">
       Create a multi-signature CCD transfer in the Desktop Wallet
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/guides/multisig-transfer.html">
       Create a scheduled transfer in the Desktop Wallet
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/desktop-wallet/sign-transaction.html">
       Sign a transaction proposal
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/desktop-wallet/proposed-transactions.html">
       View transaction proposals
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    Earn with Concordium
   </span>
  </p>
  <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="nav bd-sidenav">
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/guides/how-to-earn.html">
     How to earn with Concordium
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
    <label for="toctree-checkbox-17">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../../../net/concepts/concepts-baker.html">
       Bakers
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
      <label for="toctree-checkbox-18">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/guides/baker-pool.html">
         Baker management
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/mobile-wallet/add-baker-mw.html">
         Add baker
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/mobile-wallet/update-baker-mw.html">
         Change baker options
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/guides/baker-windows.html">
         Run a baker node on Windows
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/nodes/baker-macos.html">
         Run a baker node on macOS
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/nodes/baker-ubuntu.html">
         Run a baker node on Ubuntu
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/nodes/baker-docker.html">
         Run a baker node on Docker
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/guides/become-baker.html">
         Become a baker using the Concordium Client
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../../../net/concepts/concepts-delegation.html">
       Delegation
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
      <label for="toctree-checkbox-19">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/guides/add-delegation.html">
         Delegate to a baker pool or passive delegation
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/guides/update-delegation.html">
         Update delegation to a baker pool or passive delegation
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/guides/remove-delegation.html">
         Remove delegation to a baker pool or passive delegation
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/snippets/delegation-faq.html">
       Delegation and baking FAQ
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    Develop on Concordium
   </span>
  </p>
  <input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-20">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="nav bd-sidenav">
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/guides/developer-page.html">
     Developer resources
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/>
    <label for="toctree-checkbox-21">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/guides/sdks-apis.html">
       SDKs and APIs
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/guides/dapp-examples.html">
       dApp examples
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/resources/dashboards.html">
       Dashboards and Status Pages
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/references/developer-tools.html">
       Auxiliary Tools
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/references/grpc2.html">
       gRPC V2 documentation
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/references/grpc.html">
       gRPC documentation
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/nodes/node-requirements.html">
     Run a node on Concordium
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/>
    <label for="toctree-checkbox-22">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../../../net/nodes/ubuntu.html">
       Ubuntu nodes
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/>
      <label for="toctree-checkbox-23">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/guides/run-node-ubuntu.html">
         Run a node on a server with Ubuntu on Mainnet
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/nodes/run-node-ubuntu.html">
         Run a node on a server with Ubuntu on Testnet
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/nodes/troubleshoot-ubuntu.html">
         Troubleshoot a node on a server with Ubuntu
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../../../net/nodes/macos.html">
       MacOS nodes
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/>
      <label for="toctree-checkbox-24">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/guides/run-node-macos.html">
         Run and manage a node on macOS
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/nodes/troubleshoot-macos.html">
         Troubleshoot a node on MacOS
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../../../net/nodes/windows.html">
       Windows nodes
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/>
      <label for="toctree-checkbox-25">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/guides/run-node-windows.html">
         Run and manage a node on Windows
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/nodes/node-runner-service-configuration.html">
         Concordium Windows node runner service configuration
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/nodes/troubleshoot-windows.html">
         Troubleshoot a node running on Windows
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../../../net/nodes/docker.html">
       Docker nodes
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/>
      <label for="toctree-checkbox-26">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/guides/run-node.html">
         Run a node with Docker
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../net/nodes/troubleshoot-docker.html">
         Troubleshoot a node on a server with Docker
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/references/concordium-client.html">
     Concordium Client
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" type="checkbox"/>
    <label for="toctree-checkbox-27">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/references/transactions.html">
       Concordium Client transactions
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/references/query-node.html">
       Querying a node
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/guides/run-local-chain.html">
     Run a local chain
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    CCDScan
   </span>
  </p>
  <input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-28">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="nav bd-sidenav">
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/resources/ccd-scan.html">
     CCDScan
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" type="checkbox"/>
    <label for="toctree-checkbox-29">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/resources/ccd-scan-blocks.html">
       CCDScan Blocks overview
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/resources/ccd-scan-transactions.html">
       CCDScan Transactions overview
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/resources/ccd-scan-accounts.html">
       CCDScan Accounts overview
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/resources/ccd-scan-staking.html">
       CCDScan Staking overview
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/resources/ccd-scan-nodes.html">
       CCDScan Nodes overview
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    Use Concordium's ID Layer
   </span>
  </p>
  <input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-30">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="nav bd-sidenav">
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/guides/create-proofs.html">
     Use ID: Create proofs
    </a>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/guides/gallery/index.html">
     The gallery with ID authentication
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" type="checkbox"/>
    <label for="toctree-checkbox-31">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/guides/gallery/gallery-backend.html">
       Writing the verifying backend
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/guides/gallery/gallery-frontend.html">
       Interacting with a wallet
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/guides/gallery/gallery-setup.html">
       Setting up the front end
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    Smart Contracts v1
   </span>
  </p>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-32">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current nav bd-sidenav">
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../general/introduction.html">
     Introduction
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" type="checkbox"/>
    <label for="toctree-checkbox-33">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../general/contract-module.html">
       Smart contract modules
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../general/contract-instances.html">
       Smart contract instances
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../general/contract-schema.html">
       Smart contract schemas
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../general/develop-contracts.html">
       Developing smart contracts in Rust
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../guides/quick-start.html">
     Quick start guide
    </a>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../best-practices/index.html">
     Best practices
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" type="checkbox"/>
    <label for="toctree-checkbox-34">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../best-practices/development.html">
       Development best practices
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1 current active has-children">
    <a class="reference internal" href="../index.html">
     Tutorials
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" type="checkbox"/>
    <label for="toctree-checkbox-35">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l2">
      <a class="reference internal" href="../setup-env.html">
       Setup the development environment
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../counter/counter-contract.html">
       Counter
      </a>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../piggy-bank/index.html">
       PiggyBank
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" type="checkbox"/>
      <label for="toctree-checkbox-36">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../piggy-bank/writing.html">
         Writing the piggy bank smart contract
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../piggy-bank/testing.html">
         Testing the piggy bank smart contract
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../piggy-bank/deploying.html">
         Deploying the piggy bank smart contract
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../piggy-bank/frontend.html">
         Setting up a front end
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../wCCD/index.html">
       wCCD
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" type="checkbox"/>
      <label for="toctree-checkbox-37">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../wCCD/wCCD-introduction.html">
         Understanding the wCCD token protocol
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../wCCD/wCCD-interacting.html">
         Interacting with the wCCD token protocol
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../wCCD/wCCD-front-end-set-up.html">
         Setting up the front end
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../wCCD/wCCD-full-dApp.html">
         Running your first full dApp
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../voting/index.html">
       The Voting dApp
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" type="checkbox"/>
      <label for="toctree-checkbox-38">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../voting/voting-sc.html">
         Writing a voting smart contract
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../voting/voting-dapp.html">
         Setting up the front-end
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../nft-minting/index.html">
       Mint an NFT
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" type="checkbox"/>
      <label for="toctree-checkbox-39">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../nft-minting/upload-nft.html">
         Upload the NFT
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../nft-minting/build-smart-contract.html">
         Intialize, build, and deploy the smart contract
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../nft-minting/mint-xfer.html">
         Mint and transfer the NFT
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../sft-minting/index.html">
       Mint a semi-fungible token
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" type="checkbox"/>
      <label for="toctree-checkbox-40">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../sft-minting/setup.html">
         Setup the development environment
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../sft-minting/build-smart-contract.html">
         Smart contract modifications
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../sft-minting/mint-xfer.html">
         Mint and transfer semi-fungible token
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 current active has-children">
      <a class="reference internal" href="index.html">
       Mint fungible tokens
      </a>
      <input checked="" class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" type="checkbox"/>
      <label for="toctree-checkbox-41">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="current">
       <li class="toctree-l3 current active">
        <a class="current reference internal" href="#">
         Smart contract implementation for fungible tokens
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="mint-xfer.html">
         Mint, transfer, and burn fungible tokens
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../nft-marketplace/index.html">
       NFT marketplace smart contract tutorial
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" type="checkbox"/>
      <label for="toctree-checkbox-42">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../nft-marketplace/smart-contract.html">
         Build and deploy the smart contract
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../eSealing/index.html">
       eSealing
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" type="checkbox"/>
      <label for="toctree-checkbox-43">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../eSealing/eSealing_dapp.html">
         Exploring the eSealing dapp
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../sponsoredTransactions/index.html">
       Sponsored Transactions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" type="checkbox"/>
      <label for="toctree-checkbox-44">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../sponsoredTransactions/sponsoredTransactionsSmartContract.html">
         Exploring the sponsored Transactions Smart Contract
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../sponsoredTransactions/sponsoredTransactionsFrontendAndBackend.html">
         Exploring the sponsored Transactions dApp
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../sponsoredTransactions/walletConnect.html">
         Wallet Connect
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../smartContractUpgrade/index.html">
       Smart Contract Upgrade
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" type="checkbox"/>
      <label for="toctree-checkbox-45">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../smartContractUpgrade/smartContractUpgrade.html">
         Native upgradability
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../guides/contract-dev-guides.html">
     Contract development guides
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" type="checkbox"/>
    <label for="toctree-checkbox-46">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/setup-tools.html">
       Install tools for development
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/setup-contract.html">
       Setting up a smart contract project
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/compile-module.html">
       Compile a Rust smart contract module
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/custom-errors.html">
       Return custom errors
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/local-simulate.html">
       Locally simulate contract functions
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/build-schema.html">
       Build a contract schema
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/no-std.html">
       Build using
       <code class="docutils literal notranslate">
        <span class="pre">
         no_std
        </span>
       </code>
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/fallback-entrypoints.html">
       Fallback entrypoints
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/upgradeable-contract.html">
       Make a contract upgradeable
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/json-params.html">
       Work with the JSON parameters
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../guides/contract-testing-guides.html">
     Contract testing guides
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" type="checkbox"/>
    <label for="toctree-checkbox-47">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/unit-test-contract.html">
       Unit test a contract in Rust
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/integration-test-contract.html">
       Integration test a contract in Rust
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../guides/on-chain-index.html">
     On-chain guides
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" type="checkbox"/>
    <label for="toctree-checkbox-48">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/deploy-module.html">
       Deploy a smart contract module
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/initialize-contract.html">
       Initialize a smart contract instance
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/interact-instance.html">
       Interact with a smart contract instance
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/inspect-instance.html">
       Inspect a smart contract instance
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../guides/invoke-instance.html">
       Invoke a smart contract instance
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../references/index.html">
     References
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" type="checkbox"/>
    <label for="toctree-checkbox-49">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../references/crypto-primitives.html">
       Cryptographic primitives
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../references/host-fns.html">
       Contract host functions
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../references/local-settings.html">
       Local settings
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../references/references-on-chain.html">
       References on-chain
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../references/schema-json.html">
       Schema JSON representation
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../references/simulate-context.html">
       Simulation contexts
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference external" href="https://github.com/Concordium/concordium-rust-smart-contracts">
       Rust contract examples (repo)
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference external" href="https://docs.rs/concordium-std/latest/concordium_std/">
       concordium-std
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../onboarding-guide-ethereum-developers/index.html">
     Ethereum developer onboarding
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" type="checkbox"/>
    <label for="toctree-checkbox-50">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../onboarding-guide-ethereum-developers/faq.html">
       FAQs
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../onboarding-guide-solana-developers/index.html">
     Solana developer onboarding
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" type="checkbox"/>
    <label for="toctree-checkbox-51">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../onboarding-guide-solana-developers/overview.html">
       Overview
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../onboarding-guide-solana-developers/faq.html">
       FAQs
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    Smart Contracts v0
   </span>
  </p>
  <input class="toctree-checkbox" id="toctree-checkbox-52" name="toctree-checkbox-52" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-52">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="nav bd-sidenav">
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../smart-contracts-v0/sc-v0-rollup.html">
     V0 smart contract documentation
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-53" name="toctree-checkbox-53" type="checkbox"/>
    <label for="toctree-checkbox-53">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../../../smart-contracts-v0/general/introduction.html">
       Introduction and general guides
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-54" name="toctree-checkbox-54" type="checkbox"/>
      <label for="toctree-checkbox-54">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/general/contract-module.html">
         Smart contract modules
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/general/contract-instances.html">
         Smart contract instances
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/general/contract-schema.html">
         Smart contract schemas
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/general/develop-contracts.html">
         Developing smart contracts in Rust
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../../../smart-contracts-v0/tutorials/piggy-bank/index.html">
       Tutorials
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-55" name="toctree-checkbox-55" type="checkbox"/>
      <label for="toctree-checkbox-55">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/tutorials/piggy-bank/writing.html">
         Writing the piggy bank smart contract
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/tutorials/piggy-bank/testing.html">
         Testing the piggy bank smart contract
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../../../smart-contracts-v0/guides/contract-dev-guides.html">
       Contract development guides
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-56" name="toctree-checkbox-56" type="checkbox"/>
      <label for="toctree-checkbox-56">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/guides/setup-tools.html">
         Install tools for development
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/guides/setup-contract.html">
         Setting up a smart contract project
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/guides/compile-module.html">
         Compile a Rust smart contract module
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/guides/unit-test-contract.html">
         Unit test a contract in Rust
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/guides/custom-errors.html">
         Return custom errors
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/guides/local-simulate.html">
         Locally simulate contract functions
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/guides/build-schema.html">
         Build a contract schema
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/guides/no-std.html">
         Build using
         <code class="docutils literal notranslate">
          <span class="pre">
           no_std
          </span>
         </code>
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../../../smart-contracts-v0/guides/on-chain-index.html">
       On-chain guides
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-57" name="toctree-checkbox-57" type="checkbox"/>
      <label for="toctree-checkbox-57">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/guides/deploy-module.html">
         Deploy a smart contract module
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/guides/initialize-contract.html">
         Initialize a smart contract instance
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/guides/interact-instance.html">
         Interact with a smart contract instance
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/guides/inspect-instance.html">
         Inspect a smart contract instance
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l2 has-children">
      <a class="reference internal" href="../../../smart-contracts-v0/references/index.html">
       References
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-58" name="toctree-checkbox-58" type="checkbox"/>
      <label for="toctree-checkbox-58">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/references/schema-json.html">
         Schema JSON representation
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/references/simulate-context.html">
         Simulation contexts
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/references/host-fns.html">
         Contract host functions
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/references/references-on-chain.html">
         References on-chain
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference internal" href="../../../smart-contracts-v0/references/local-settings.html">
         Local settings
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference external" href="https://github.com/Concordium/concordium-rust-smart-contracts">
         Rust contract examples (repo)
        </a>
       </li>
       <li class="toctree-l3">
        <a class="reference external" href="https://docs.rs/concordium-std/2.0.0/concordium_std/">
         concordium-std
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    Low-code NFT marketplace
   </span>
  </p>
  <input class="toctree-checkbox" id="toctree-checkbox-59" name="toctree-checkbox-59" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-59">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="nav bd-sidenav">
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/guides/low-code-nft-marketplace/introduction.html">
     Concordium low-code NFT framework
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/guides/low-code-nft-marketplace/marketplace.html">
     Low code NFT marketplace
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/guides/low-code-nft-marketplace/minting-tool.html">
     Low-code NFT minting tool
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    Resources
   </span>
  </p>
  <input class="toctree-checkbox" id="toctree-checkbox-60" name="toctree-checkbox-60" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-60">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="nav bd-sidenav">
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../../../net/resources/legal.html">
     Legal
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-61" name="toctree-checkbox-61" type="checkbox"/>
    <label for="toctree-checkbox-61">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/resources/terms-and-conditions.html">
       Terms and conditions
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/resources/terms-and-conditions-dw.html">
       Terms and Conditions for Concordium Desktop Wallet
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/resources/terms-and-conditions-mw.html">
       Terms and Conditions for Concordium Legacy Wallet (previously Concordium Mobile Wallet)
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/resources/third-party-licenses.html">
       Third Party Licenses
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/resources/third-party-notices.html">
       Third-party Software and Hardware Notices
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/resources/bw-licenses.html">
       Concordium Wallet for Web Third Party Licenses
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../../../net/resources/dw-licenses.html">
       Concordium Desktop Wallet Third Party Licenses
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../../../net/resources/ar-idp-contact.html">
     Contact Anonymity Revokers and Identity Providers
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#minting">
   Minting
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mint-function">
   Mint function
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#contract-mint-function">
     Contract mint function
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#state-mint-function">
     State mint function
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#contract-burn-function">
     Contract burn function
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#build-deploy-and-initialize">
   Build, deploy, and initialize
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#build-the-smart-contract">
     Build the smart contract
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#deploy-the-smart-contract">
     Deploy the smart contract
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#initialize-the-smart-contract">
     Initialize the smart contract
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="smart-contract-implementation-for-fungible-tokens">
<h1>Smart contract implementation for fungible tokens<a class="headerlink" href="#smart-contract-implementation-for-fungible-tokens" title="Permalink to this headline">#</a></h1>
<p>For your token contract, use the <a class="reference external" href="https://github.com/Concordium/concordium-rust-smart-contracts/tree/main/examples/cis2-multi">cis2-multi contract from Concordiums example smart contract repository on GitHub</a>. You will make some minor modifications to it in this tutorial, such as the maximum supply of your token, circulating supply, and a burn function. Basically, no one will be able to mint a token again if it already met the maximum supply. Your token will be deflationary in that sense. Burning a token will not affect the circulating supply; if you want, you can adjust the corresponding function so it could affect circulating supply.</p>
<div class="section" id="minting">
<h2>Minting<a class="headerlink" href="#minting" title="Permalink to this headline">#</a></h2>
<p>First, add the changes to your contract for the minting parameters that you require when <code class="docutils literal notranslate"><span class="pre">mint()</span></code> is invoked. It will ask for the minting amount and <code class="docutils literal notranslate"><span class="pre">max_supply</span></code>. Create a struct called <code class="docutils literal notranslate"><span class="pre">TokenParams</span></code> and add this to the tokens tree as shown below.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[derive(Serial, Deserial, SchemaType)]</span><span class="w"></span>
<span class="k">struct</span> <span class="nc">TokenParams</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">amount</span>: <span class="nc">TokenAmountU64</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">max_supply</span>: <span class="nc">ContractTokenAmount</span><span class="p">,</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="sd">/// The parameter for the contract function `mint` which mints a number of</span>
<span class="sd">/// token types and/or amounts of tokens to a given address.</span>
<span class="cp">#[derive(Serial, Deserial, SchemaType)]</span><span class="w"></span>
<span class="k">struct</span> <span class="nc">MintParams</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="sd">/// Owner of the newly minted tokens.</span>
<span class="w">    </span><span class="n">owner</span>: <span class="nc">Address</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="sd">/// A collection of tokens to mint.</span>
<span class="w">    </span><span class="n">tokens</span>: <span class="nc">collections</span>::<span class="n">BTreeMap</span><span class="o">&lt;</span><span class="n">ContractTokenId</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">TokenMetadata</span><span class="p">,</span><span class="w"> </span><span class="n">TokenParams</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Now, you need to update the <code class="docutils literal notranslate"><span class="pre">state</span></code> struct which keeps the current state of your contract. In this case, you want it to store the maximum supply and the circulating supply. Here in <code class="docutils literal notranslate"><span class="pre">max_supply</span></code> you have the tokenId as the key and the amount as the value in the map, and then you have the <code class="docutils literal notranslate"><span class="pre">token_balance</span></code> map which holds the tokenId as the key and circulating amount as the value.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="sd">/// The contract state,</span>
<span class="sd">///</span>
<span class="sd">/// Note: The specification does not specify how to structure the contract state</span>
<span class="sd">/// and this could be structured in a more space efficient way.</span>
<span class="cp">#[derive(Serial, DeserialWithState, StateClone)]</span><span class="w"></span>
<span class="cp">#[concordium(state_parameter = </span><span class="s">&quot;S&quot;</span><span class="cp">)]</span><span class="w"></span>
<span class="k">struct</span> <span class="nc">State</span><span class="o">&lt;</span><span class="n">S</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="sd">/// The state of addresses.</span>
<span class="w">    </span><span class="n">state</span>: <span class="nc">StateMap</span><span class="o">&lt;</span><span class="n">Address</span><span class="p">,</span><span class="w"> </span><span class="n">AddressState</span><span class="o">&lt;</span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="sd">/// All of the token IDs</span>
<span class="w">    </span><span class="n">tokens</span>: <span class="nc">StateMap</span><span class="o">&lt;</span><span class="n">ContractTokenId</span><span class="p">,</span><span class="w"> </span><span class="n">MetadataUrl</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="c1">// max supply of the token</span>
<span class="w">    </span><span class="n">max_supply</span>: <span class="nc">StateMap</span><span class="o">&lt;</span><span class="n">ContractTokenId</span><span class="p">,</span><span class="w"> </span><span class="n">ContractTokenAmount</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>

<span class="w">    </span><span class="n">token_balance</span>: <span class="nc">StateMap</span><span class="o">&lt;</span><span class="n">ContractTokenId</span><span class="p">,</span><span class="w"> </span><span class="n">ContractTokenAmount</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="sd">/// Map with contract addresses providing implementations of additional</span>
<span class="w">    </span><span class="sd">/// standards.</span>
<span class="w">    </span><span class="n">implementors</span>: <span class="nc">StateMap</span><span class="o">&lt;</span><span class="n">StandardIdentifierOwned</span><span class="p">,</span><span class="w"> </span><span class="nb">Vec</span><span class="o">&lt;</span><span class="n">ContractAddress</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Then, add some custom errors in your <code class="docutils literal notranslate"><span class="pre">CustomContractError</span></code> enum. As you can see below, the last two are new for this use case.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="sd">/// The different errors the contract can produce.</span>
<span class="cp">#[derive(Serialize, Debug, PartialEq, Eq, Reject, SchemaType)]</span><span class="w"></span>
<span class="k">enum</span> <span class="nc">CustomContractError</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="sd">/// Failed parsing the parameter.</span>
<span class="w">    </span><span class="cp">#[from(ParseError)]</span><span class="w"></span>
<span class="w">    </span><span class="n">ParseParams</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="sd">/// Failed logging: Log is full.</span>
<span class="w">    </span><span class="n">LogFull</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="sd">/// Failed logging: Log is malformed.</span>
<span class="w">    </span><span class="n">LogMalformed</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="sd">/// Invalid contract name.</span>
<span class="w">    </span><span class="n">InvalidContractName</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="sd">/// Only a smart contract can call this function.</span>
<span class="w">    </span><span class="n">ContractOnly</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="sd">/// Failed to invoke a contract.</span>
<span class="w">    </span><span class="n">InvokeContractError</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="sd">/// Minted token unique ID</span>
<span class="w">    </span><span class="n">TokenAlreadyMinted</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="c1">// max supply reached</span>
<span class="w">    </span><span class="n">MaxSupplyReached</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="c1">// burning</span>
<span class="w">    </span><span class="n">NoBalanceToBurn</span><span class="p">,</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Since you added new maps to your state, you need to handle their initialization in the <code class="docutils literal notranslate"><span class="pre">empty()</span></code> method of the state implementations. To do this, call <code class="docutils literal notranslate"><span class="pre">state_builder.new_map()</span></code>.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span> <span class="nf">empty</span><span class="p">(</span><span class="n">state_builder</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">StateBuilder</span><span class="o">&lt;</span><span class="n">S</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">State</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">state</span>: <span class="nc">state_builder</span><span class="p">.</span><span class="n">new_map</span><span class="p">(),</span><span class="w"></span>
<span class="w">            </span><span class="n">tokens</span>: <span class="nc">state_builder</span><span class="p">.</span><span class="n">new_map</span><span class="p">(),</span><span class="w"></span>
<span class="w">            </span><span class="n">max_supply</span>: <span class="nc">state_builder</span><span class="p">.</span><span class="n">new_map</span><span class="p">(),</span><span class="w"></span>
<span class="w">            </span><span class="n">token_balance</span>: <span class="nc">state_builder</span><span class="p">.</span><span class="n">new_map</span><span class="p">(),</span><span class="w"></span>
<span class="w">            </span><span class="n">implementors</span>: <span class="nc">state_builder</span><span class="p">.</span><span class="n">new_map</span><span class="p">(),</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="mint-function">
<h2>Mint function<a class="headerlink" href="#mint-function" title="Permalink to this headline">#</a></h2>
<p>As discussed earlier, you have new inputs in <code class="docutils literal notranslate"><span class="pre">MintParams</span></code>, so when you get the JSON parameter as the input you expect an object that holds both metadata and another struct that holds the maximum supply and the amount to be minted. That is why there is <code class="docutils literal notranslate"><span class="pre">token_info</span></code>. <code class="docutils literal notranslate"><span class="pre">token_info.0</span></code> will represent the <code class="docutils literal notranslate"><span class="pre">TokenMetadata</span></code> struct and <code class="docutils literal notranslate"><span class="pre">token_info.1</span></code> will represent <code class="docutils literal notranslate"><span class="pre">TokenParams</span></code>.</p>
<p>Unlike the NFT tutorials, this time you actually want the token to be mintable with the same ID. Just keep it less than the maximum value. That is why you commented on the first ensure statement which makes sure that the tokenId is unique for a token.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[receive(</span>
<span class="cp">    contract = </span><span class="s">&quot;fungible-cis2&quot;</span><span class="cp">,</span>
<span class="cp">    name = </span><span class="s">&quot;mint&quot;</span><span class="cp">,</span>
<span class="cp">    parameter = </span><span class="s">&quot;MintParams&quot;</span><span class="cp">,</span>
<span class="cp">    error = </span><span class="s">&quot;ContractError&quot;</span><span class="cp">,</span>
<span class="cp">    enable_logger,</span>
<span class="cp">    mutable</span>
<span class="cp">)]</span><span class="w"></span>
<span class="k">fn</span> <span class="nf">contract_mint</span><span class="o">&lt;</span><span class="n">S</span>: <span class="nc">HasStateApi</span><span class="o">&gt;</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="n">ctx</span>: <span class="kp">&amp;</span><span class="nc">impl</span><span class="w"> </span><span class="n">HasReceiveContext</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">host</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">HasHost</span><span class="o">&lt;</span><span class="n">State</span><span class="o">&lt;</span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">StateApiType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">logger</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">HasLogger</span><span class="p">,</span><span class="w"></span>
<span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">ContractResult</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Get the contract owner</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">owner</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Get the sender of the transaction</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">sender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">sender</span><span class="p">();</span><span class="w"></span>

<span class="w">    </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span><span class="n">sender</span><span class="p">.</span><span class="n">matches_account</span><span class="p">(</span><span class="o">&amp;</span><span class="n">owner</span><span class="p">),</span><span class="w"> </span><span class="n">ContractError</span>::<span class="n">Unauthorized</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Parse the parameter.</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">params</span>: <span class="nc">MintParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">parameter_cursor</span><span class="p">().</span><span class="n">get</span><span class="p">()</span><span class="o">?</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="n">builder</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">host</span><span class="p">.</span><span class="n">state_and_builder</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">token_info</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">tokens</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// ensure!(</span>
<span class="w">        </span><span class="c1">//     !state.contains_token(&amp;token_id),</span>
<span class="w">        </span><span class="c1">//     ContractError::Custom(CustomContractError::TokenAlreadyMinted)</span>
<span class="w">        </span><span class="c1">// );</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">!</span><span class="n">state</span><span class="p">.</span><span class="n">contains_token</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">state</span><span class="p">.</span><span class="n">set_max_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">max_supply</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="n">max_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">get_token_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="n">circulating_suppy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">get_circulating_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w"></span>

<span class="w">            </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span><span class="w"></span>
<span class="w">                </span><span class="n">circulating_suppy</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">max_supply</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">ContractError</span>::<span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span>::<span class="n">MaxSupplyReached</span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="p">);</span><span class="w"></span>

<span class="w">            </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span><span class="w"></span>
<span class="w">                </span><span class="o">&amp;</span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">amount</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="o">&amp;</span><span class="p">(</span><span class="n">max_supply</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">circulating_suppy</span><span class="p">),</span><span class="w"></span>
<span class="w">                </span><span class="n">ContractError</span>::<span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span>::<span class="n">MaxSupplyReached</span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>

<span class="w">        </span><span class="c1">// Mint the token in the state.</span>
<span class="w">        </span><span class="n">state</span><span class="p">.</span><span class="n">mint</span><span class="p">(</span><span class="w"></span>
<span class="w">            </span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="o">&amp;</span><span class="n">token_info</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">amount</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="o">&amp;</span><span class="n">params</span><span class="p">.</span><span class="n">owner</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="n">builder</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="c1">// Event for minted token.</span>
<span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Cis2Event</span>::<span class="n">Mint</span><span class="p">(</span><span class="n">MintEvent</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">token_id</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="n">amount</span>: <span class="nc">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">amount</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="n">owner</span>: <span class="nc">params</span><span class="p">.</span><span class="n">owner</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">}))</span><span class="o">?</span><span class="p">;</span><span class="w"></span>

<span class="w">        </span><span class="c1">// Metadata URL for the token.</span>
<span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Cis2Event</span>::<span class="n">TokenMetadata</span>::<span class="o">&lt;</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">ContractTokenAmount</span><span class="o">&gt;</span><span class="p">(</span><span class="w"></span>
<span class="w">            </span><span class="n">TokenMetadataEvent</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="n">token_id</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">metadata_url</span>: <span class="nc">token_info</span><span class="p">.</span><span class="mf">0.</span><span class="n">to_metadata_url</span><span class="p">(),</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">))</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nb">Ok</span><span class="p">(())</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>In the following <code class="docutils literal notranslate"><span class="pre">if</span></code> clause you are checking if this token has been minted before. If not, set its maximum supply in the state by using the <code class="docutils literal notranslate"><span class="pre">set_max_supply()</span></code> function.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="o">!</span><span class="n">state</span><span class="p">.</span><span class="n">contains_token</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">state</span><span class="p">.</span><span class="n">set_max_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">max_supply</span><span class="p">)</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">max_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">get_token_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">circulating_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">get_circulating_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span><span class="w"></span>
<span class="w">        </span><span class="n">circulating_supply</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">max_supply</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">ContractError</span>::<span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span>::<span class="n">MaxSupplyReached</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span><span class="w"></span>
<span class="w">        </span><span class="o">&amp;</span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">amount</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="o">&amp;</span><span class="p">(</span><span class="n">max_supply</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">circulating_supply</span><span class="p">),</span><span class="w"></span>
<span class="w">        </span><span class="n">ContractError</span>::<span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span>::<span class="n">MaxSupplyReached</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Otherwise, it means you have minted this token before, so you need to check how many were minted already, and based on that, decide to either mint or throw an error.</p>
<p>Look a bit closer at these helper functions, including <code class="docutils literal notranslate"><span class="pre">set_max_supply()</span></code>. It takes the <code class="docutils literal notranslate"><span class="pre">&amp;mut</span> <span class="pre">self</span></code> as a parameter because it will change the state so the mutable self of the state should be provided. In <code class="docutils literal notranslate"><span class="pre">token_id</span></code> enter the tokenId to set the key, and enter <code class="docutils literal notranslate"><span class="pre">max_supply</span></code> to set the value.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[inline(always)]</span><span class="w"></span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">set_max_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">token_id</span>: <span class="kp">&amp;</span><span class="nc">ContractTokenId</span><span class="p">,</span><span class="w"> </span><span class="n">max_supply</span>: <span class="nc">ContractTokenAmount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="bp">self</span><span class="p">.</span><span class="n">max_supply</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="o">*</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">max_supply</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">get_token_supply()</span></code> function first checks if the <code class="docutils literal notranslate"><span class="pre">token_id</span></code> is correct, meaning whether the state has that token, and then it will get the <code class="docutils literal notranslate"><span class="pre">max_supply</span></code> for that token which is specified while minting. The following section shows the minting function.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="sd">/// Check that the token ID currently exists in this contract.</span>
<span class="w">    </span><span class="cp">#[inline(always)]</span><span class="w"></span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">get_token_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">token_id</span>: <span class="kp">&amp;</span><span class="nc">ContractTokenId</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">ContractResult</span><span class="o">&lt;</span><span class="n">ContractTokenAmount</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span><span class="w"></span>
<span class="w">            </span><span class="bp">self</span><span class="p">.</span><span class="n">contains_token</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">),</span><span class="w"></span>
<span class="w">            </span><span class="n">ContractError</span>::<span class="n">InvalidTokenId</span><span class="w"></span>
<span class="w">        </span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">max_supply</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">token_id</span><span class="p">).</span><span class="n">map_or</span><span class="p">(</span><span class="mf">0.</span><span class="n">into</span><span class="p">(),</span><span class="w"> </span><span class="o">|</span><span class="n">x</span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="nb">Ok</span><span class="p">(</span><span class="n">supply</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>The last helper is the <code class="docutils literal notranslate"><span class="pre">get_circulating_supply()</span></code> which will be used to get the circulating supply.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="c1">// check cirulating supply</span>
<span class="w">    </span><span class="cp">#[inline(always)]</span><span class="w"></span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">get_circulating_supply</span><span class="p">(</span><span class="w"></span>
<span class="w">        </span><span class="o">&amp;</span><span class="bp">self</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">token_id</span>: <span class="kp">&amp;</span><span class="nc">ContractTokenId</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">ContractResult</span><span class="o">&lt;</span><span class="n">ContractTokenAmount</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">contains_token</span><span class="p">(</span><span class="n">token_id</span><span class="p">),</span><span class="w"> </span><span class="n">ContractError</span>::<span class="n">InvalidTokenId</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">circulating_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">token_balance</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">token_id</span><span class="p">).</span><span class="n">map_or</span><span class="p">(</span><span class="mf">0.</span><span class="n">into</span><span class="p">(),</span><span class="w"> </span><span class="o">|</span><span class="n">x</span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="nb">Ok</span><span class="p">(</span><span class="n">circulating_supply</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="section" id="contract-mint-function">
<h3>Contract mint function<a class="headerlink" href="#contract-mint-function" title="Permalink to this headline">#</a></h3>
<p>You will compare the circulating supply, maximum supply and the amount to be minted. If the mint amount + circulating supply is more than the maximum supply you will not allow minting.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">contact_mint</span></code> function below see the following changes accordingly. First, the parameters are read as a form of JSON. See the <code class="docutils literal notranslate"><span class="pre">MintParams</span></code> struct for the details of the parameters. In the first <code class="docutils literal notranslate"><span class="pre">if</span></code> clause, it first checks if the token exists in the state. If not, meaning you are going to mint this token for the first time, you will set the maximum supply by calling the <code class="docutils literal notranslate"><span class="pre">set_max_supply()</span></code> function. The max_supply value is in the <code class="docutils literal notranslate"><span class="pre">TokenParam</span></code> struct as the second item.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">mint()</span></code> function is not called for the first time, then you need to check the conditions. Therefore, you need to <code class="docutils literal notranslate"><span class="pre">get_token_supply()</span></code> and <code class="docutils literal notranslate"><span class="pre">get_circulating_supply()</span></code>. Here you have to make sure of two conditions: first, you need to check that the circulating supply is already less than or equal to the maximum supply; and then when you add the new token amount to be minted to the existing amount, meaning the circulating supply, this should be less than or equal to the maximum supply. The following two <code class="docutils literal notranslate"><span class="pre">ensure</span></code> statements check that these conditions are sufficient before calling the states <code class="docutils literal notranslate"><span class="pre">mint()</span></code> function.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[receive(</span>
<span class="cp">    contract = </span><span class="s">&quot;fungible-cis2&quot;</span><span class="cp">,</span>
<span class="cp">    name = </span><span class="s">&quot;mint&quot;</span><span class="cp">,</span>
<span class="cp">    parameter = </span><span class="s">&quot;MintParams&quot;</span><span class="cp">,</span>
<span class="cp">    error = </span><span class="s">&quot;ContractError&quot;</span><span class="cp">,</span>
<span class="cp">    enable_logger,</span>
<span class="cp">    mutable</span>
<span class="cp">)]</span><span class="w"></span>
<span class="k">fn</span> <span class="nf">contract_mint</span><span class="o">&lt;</span><span class="n">S</span>: <span class="nc">HasStateApi</span><span class="o">&gt;</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="n">ctx</span>: <span class="kp">&amp;</span><span class="nc">impl</span><span class="w"> </span><span class="n">HasReceiveContext</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">host</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">HasHost</span><span class="o">&lt;</span><span class="n">State</span><span class="o">&lt;</span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">StateApiType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">logger</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">HasLogger</span><span class="p">,</span><span class="w"></span>
<span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">ContractResult</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Get the contract owner</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">owner</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Get the sender of the transaction</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">sender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">sender</span><span class="p">();</span><span class="w"></span>

<span class="w">    </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span><span class="n">sender</span><span class="p">.</span><span class="n">matches_account</span><span class="p">(</span><span class="o">&amp;</span><span class="n">owner</span><span class="p">),</span><span class="w"> </span><span class="n">ContractError</span>::<span class="n">Unauthorized</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Parse the parameter.</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">params</span>: <span class="nc">MintParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">parameter_cursor</span><span class="p">().</span><span class="n">get</span><span class="p">()</span><span class="o">?</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="n">builder</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">host</span><span class="p">.</span><span class="n">state_and_builder</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">token_info</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">tokens</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// ensure!(</span>
<span class="w">        </span><span class="c1">//     state.contains_token(&amp;token_id),</span>
<span class="w">        </span><span class="c1">//     ContractError::Custom(CustomContractError::TokenAlreadyMinted)</span>
<span class="w">        </span><span class="c1">// );</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">!</span><span class="n">state</span><span class="p">.</span><span class="n">contains_token</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">state</span><span class="p">.</span><span class="n">set_max_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">max_supply</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="n">max_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">get_token_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="n">circulating_suppy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">get_circulating_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w"></span>

<span class="w">            </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span><span class="w"></span>
<span class="w">                </span><span class="n">circulating_suppy</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">max_supply</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">ContractError</span>::<span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span>::<span class="n">MaxSupplyReached</span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="p">);</span><span class="w"></span>

<span class="w">            </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span><span class="w"></span>
<span class="w">                </span><span class="o">&amp;</span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">amount</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="o">&amp;</span><span class="p">(</span><span class="n">max_supply</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">circulating_suppy</span><span class="p">),</span><span class="w"></span>
<span class="w">                </span><span class="n">ContractError</span>::<span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span>::<span class="n">MaxSupplyReached</span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>

<span class="w">        </span><span class="c1">// Mint the token in the state.</span>
<span class="w">        </span><span class="n">state</span><span class="p">.</span><span class="n">mint</span><span class="p">(</span><span class="w"></span>
<span class="w">            </span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="o">&amp;</span><span class="n">token_info</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">amount</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="o">&amp;</span><span class="n">params</span><span class="p">.</span><span class="n">owner</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="n">builder</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="c1">// Event for minted token.</span>
<span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Cis2Event</span>::<span class="n">Mint</span><span class="p">(</span><span class="n">MintEvent</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">token_id</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="n">amount</span>: <span class="nc">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">amount</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="n">owner</span>: <span class="nc">params</span><span class="p">.</span><span class="n">owner</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">}))</span><span class="o">?</span><span class="p">;</span><span class="w"></span>

<span class="w">        </span><span class="c1">// Metadata URL for the token.</span>
<span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Cis2Event</span>::<span class="n">TokenMetadata</span>::<span class="o">&lt;</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">ContractTokenAmount</span><span class="o">&gt;</span><span class="p">(</span><span class="w"></span>
<span class="w">            </span><span class="n">TokenMetadataEvent</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="n">token_id</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">metadata_url</span>: <span class="nc">token_info</span><span class="p">.</span><span class="mf">0.</span><span class="n">to_metadata_url</span><span class="p">(),</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">))</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nb">Ok</span><span class="p">(())</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="state-mint-function">
<h3>State mint function<a class="headerlink" href="#state-mint-function" title="Permalink to this headline">#</a></h3>
<p>There is only one minor change needed in the states mint function, which is increasing the circulating supply when a token is minted. You are keeping the circulating balance in the <code class="docutils literal notranslate"><span class="pre">token_balance</span></code> map, using the <code class="docutils literal notranslate"><span class="pre">token_id</span></code> key of the map to call the value and update it, which you do in the last statement.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="sd">/// Mints an amount of tokens with a given address as the owner.</span>
<span class="k">fn</span> <span class="nf">mint</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">token_id</span>: <span class="kp">&amp;</span><span class="nc">ContractTokenId</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">token_metadata</span>: <span class="kp">&amp;</span><span class="nc">TokenMetadata</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">amount</span>: <span class="nc">ContractTokenAmount</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">owner</span>: <span class="kp">&amp;</span><span class="nc">Address</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">state_builder</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">StateBuilder</span><span class="o">&lt;</span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="bp">self</span><span class="p">.</span><span class="n">tokens</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="o">*</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">token_metadata</span><span class="p">.</span><span class="n">to_metadata_url</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">owner_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">state</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">entry</span><span class="p">(</span><span class="o">*</span><span class="n">owner</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">or_insert_with</span><span class="p">(</span><span class="o">||</span><span class="w"> </span><span class="n">AddressState</span>::<span class="n">empty</span><span class="p">(</span><span class="n">state_builder</span><span class="p">));</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">owner_balance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">owner_state</span><span class="p">.</span><span class="n">balances</span><span class="p">.</span><span class="n">entry</span><span class="p">(</span><span class="o">*</span><span class="n">token_id</span><span class="p">).</span><span class="n">or_insert</span><span class="p">(</span><span class="mf">0.</span><span class="n">into</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="o">*</span><span class="n">owner_balance</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">amount</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">circulating_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">token_balance</span><span class="p">.</span><span class="n">entry</span><span class="p">(</span><span class="o">*</span><span class="n">token_id</span><span class="p">).</span><span class="n">or_insert</span><span class="p">(</span><span class="mf">0.</span><span class="n">into</span><span class="p">());</span><span class="w"></span>
<span class="w">    </span><span class="o">*</span><span class="n">circulating_supply</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">amount</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="contract-burn-function">
<h3>Contract burn function<a class="headerlink" href="#contract-burn-function" title="Permalink to this headline">#</a></h3>
<p>Based on the requirements, you should be able to call tokens. In order to do that, youll be adding the <code class="docutils literal notranslate"><span class="pre">contract</span> <span class="pre">burn()</span></code> function in the existing cis2-multi contract.</p>
<p>But first, you need another parameter to get the information about the tokens that will be burned. Create a struct, called <code class="docutils literal notranslate"><span class="pre">BurnParams</span></code>; you will need <code class="docutils literal notranslate"><span class="pre">token_id</span></code> and the amount to be burned.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[derive(Serial, Deserial, SchemaType)]</span><span class="w"></span>
<span class="k">struct</span> <span class="nc">BurnParams</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="n">token_id</span>: <span class="nc">ContractTokenId</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">amount</span>: <span class="nc">ContractTokenAmount</span><span class="p">,</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>When you get the parameters, ensure the token exists with the <code class="docutils literal notranslate"><span class="pre">ensure!</span></code> and <code class="docutils literal notranslate"><span class="pre">contains_token()</span></code> functions. Note that, when you call the <code class="docutils literal notranslate"><span class="pre">burn()</span></code> function, you need to emit the <code class="docutils literal notranslate"><span class="pre">BurnEvent</span></code>. For more details, see the <a class="reference external" href="https://proposals.concordium.software/CIS/cis-2.html">CIS-2</a> standard documentation.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[receive(</span>
<span class="cp">    contract = </span><span class="s">&quot;fungible-cis2&quot;</span><span class="cp">,</span>
<span class="cp">    name = </span><span class="s">&quot;burn&quot;</span><span class="cp">,</span>
<span class="cp">    parameter = </span><span class="s">&quot;BurnParams&quot;</span><span class="cp">,</span>
<span class="cp">    error = </span><span class="s">&quot;ContractError&quot;</span><span class="cp">,</span>
<span class="cp">    enable_logger,</span>
<span class="cp">    mutable</span>
<span class="cp">)]</span><span class="w"></span>
<span class="k">fn</span> <span class="nf">contract_burn</span><span class="o">&lt;</span><span class="n">S</span>: <span class="nc">HasStateApi</span><span class="o">&gt;</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="n">ctx</span>: <span class="kp">&amp;</span><span class="nc">impl</span><span class="w"> </span><span class="n">HasReceiveContext</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">host</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">HasHost</span><span class="o">&lt;</span><span class="n">State</span><span class="o">&lt;</span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">StateApiType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">logger</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="k">impl</span><span class="w"> </span><span class="n">HasLogger</span><span class="p">,</span><span class="w"></span>
<span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">ContractResult</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Get the contract owner</span>
<span class="w">    </span><span class="c1">// let owner = ctx.owner();</span>
<span class="w">    </span><span class="c1">// Get the sender of the transaction</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">sender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">sender</span><span class="p">();</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Parse the parameter.</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">params</span>: <span class="nc">BurnParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">parameter_cursor</span><span class="p">().</span><span class="n">get</span><span class="p">()</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">token_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">token_id</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">amount</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span><span class="w"></span>
<span class="w">            </span><span class="bp">self</span><span class="p">.</span><span class="n">contains_token</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">),</span><span class="w"></span>
<span class="w">            </span><span class="n">ContractError</span>::<span class="n">InvalidTokenId</span><span class="w"></span>
<span class="w">        </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="n">builder</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">host</span><span class="p">.</span><span class="n">state_and_builder</span><span class="p">();</span><span class="w"></span>

<span class="w">    </span><span class="c1">// can use the value to store it in the state.</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">remaining_amount</span>: <span class="nc">ContractTokenAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">burn</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">amount</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sender</span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="c1">// log burn event</span>
<span class="w">    </span><span class="n">logger</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Cis2Event</span>::<span class="n">Burn</span><span class="p">(</span><span class="n">BurnEvent</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">token_id</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">amount</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">owner</span>: <span class="nc">sender</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">}))</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nb">Ok</span><span class="p">(())</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Now add the <code class="docutils literal notranslate"><span class="pre">burn()</span></code> implementation to the state functions as shown below. You will simply remove the amount for that particular token from the state but you need to take into account that the address that called this has a balance. As a control statement, in case someone wants to burn 0 tokens, check it and let them know burning nothing is successful by returning <code class="docutils literal notranslate"><span class="pre">Ok(amount)</span></code> where the amount equals zero.</p>
<p>Then get the balance of the owner using its address. Since you will change the balance you need to have a mutable state. With the match statement, you will iterate the addresses from the <code class="docutils literal notranslate"><span class="pre">address_state</span></code>, and when you find the matching one you will get the mutable balance. If it has enough balance to burn, you will subtract that amount from the mutable balance. Then state burn() function will return <code class="docutils literal notranslate"><span class="pre">ContractResult()</span></code> with the burned amount if it is successful; otherwise, it will prompt a <code class="docutils literal notranslate"><span class="pre">CustomContractError::NoBalanceToBurn</span></code>.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span> <span class="nf">burn</span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">token_id</span>: <span class="kp">&amp;</span><span class="nc">ContractTokenId</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">amount</span>: <span class="nc">ContractTokenAmount</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">owner</span>: <span class="kp">&amp;</span><span class="nc">Address</span><span class="p">,</span><span class="w"></span>
<span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">ContractResult</span><span class="o">&lt;</span><span class="n">ContractTokenAmount</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="k">u64</span><span class="p">.</span><span class="n">into</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">Ok</span><span class="p">(</span><span class="n">amount</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="k">match</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">state</span><span class="p">.</span><span class="n">get_mut</span><span class="p">(</span><span class="n">owner</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nb">Some</span><span class="p">(</span><span class="n">address_state</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">address_state</span><span class="p">.</span><span class="n">balances</span><span class="p">.</span><span class="n">get_mut</span><span class="p">(</span><span class="n">token_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nb">Some</span><span class="p">(</span><span class="k">mut</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span><span class="w"></span>
<span class="w">                    </span><span class="o">*</span><span class="n">b</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">amount</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="n">Cis2Error</span>::<span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span>::<span class="n">NoBalanceToBurn</span><span class="p">)</span><span class="w"></span>
<span class="w">                </span><span class="p">);</span><span class="w"></span>

<span class="w">                </span><span class="o">*</span><span class="n">b</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">amount</span><span class="p">;</span><span class="w"></span>
<span class="w">                </span><span class="nb">Ok</span><span class="p">(</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="nb">None</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nb">Err</span><span class="p">(</span><span class="n">Cis2Error</span>::<span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span>::<span class="n">NoBalanceToBurn</span><span class="p">)),</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nb">None</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nb">Err</span><span class="p">(</span><span class="n">Cis2Error</span>::<span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span>::<span class="n">NoBalanceToBurn</span><span class="p">)),</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="build-deploy-and-initialize">
<h2>Build, deploy, and initialize<a class="headerlink" href="#build-deploy-and-initialize" title="Permalink to this headline">#</a></h2>
<p>Now that you have finished coding your smart contract you can build, deploy, and initialize it. You will use the <code class="docutils literal notranslate"><span class="pre">concordium-client</span></code> to build it, then deploy it to the testnet, and finally, mint/transfer/burn your token.</p>
<p>First, create a metadata file. You will use it to pick an image for it, and naming and description. One thing that is important to note is the <strong>unique</strong> flag. Since this is not an NFT, you should set it to <strong>false</strong>. Then upload it to the IPFS and save the CID address. For information about how to do this, see <a class="reference internal" href="../nft-minting/upload-nft.html#upload-nft"><span class="std std-ref">Upload the NFT</span></a>. You will use it while minting the token.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{</span>
<span class="go">    &quot;name&quot;: &quot;YOUR-TOKEN-NAME&quot;,</span>
<span class="go">    &quot;unique&quot;: false,</span>
<span class="go">    &quot;description&quot;: &quot;YOUR-TOKEN-DESCRIPTION&quot;,</span>
<span class="go">    &quot;display&quot;: {</span>
<span class="go">        &quot;url&quot;: &quot;YOUR-IMAGE-PREVIEW-URL&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;attributes&quot;: []</span>
<span class="go">}</span>
</pre></div>
</div>
<div class="section" id="build-the-smart-contract">
<h3>Build the smart contract<a class="headerlink" href="#build-the-smart-contract" title="Permalink to this headline">#</a></h3>
<p>Run the command below to create a Wasm compiled build file of your smart contract. It is a good habit to create a folder for the output files. For example, here the user created a parent folder named <cite>dist</cite> and a child folder named <cite>fungible</cite> inside of it.</p>
<p>You can embed the schema file in the module, which means you dont have to call it again and again for your future function calls. To build the contract and embed the schema file, use the command below.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cargo concordium build --schema-embed --out dist/embedded/module.wasm.v1</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../../_images/build-sc.png"><img alt="dark console screen with result of running the command above" src="../../../_images/build-sc.png" style="width: 100%;" /></a>
</div>
<div class="section" id="deploy-the-smart-contract">
<h3>Deploy the smart contract<a class="headerlink" href="#deploy-the-smart-contract" title="Permalink to this headline">#</a></h3>
<p>If you dont have your own testnet node running, Concordium provides a running testnet gRPC node that is available at <code class="docutils literal notranslate"><span class="pre">node.testnet.concordium.com</span></code> on port 10000 (GRPCv1) and port 20000 (gRPCv2 and gRPC-web). You can use this node for API calls of <em>chain methods only</em> with GRPC v1, gRPC v2, and gRPC web. This node is maintained by Concordium, but Concordium does not guarantee availability. The status of this node is available on the <a class="reference external" href="https://status.testnet.concordium.software">Testnet status page</a>. For some use cases you might need to run your own local node due to the limitations of this one.</p>
<p>Run the command below to deploy the smart contract. This command is structured to use the Concordium testnet node described above. If you are using your own local node, adjust the command accordingly.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">concordium-client module deploy dist/fungible/module.wasm.v1 --sender &lt;YOUR-ACCOUNT&gt; --name &lt;YOUR-CONTRACT-NAME&gt; --grpc-port 10000 --grpc-ip node.testnet.concordium.com</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../../_images/deploy-sc.png"><img alt="dark console screen with result of running the command above" src="../../../_images/deploy-sc.png" style="width: 100%;" /></a>
</div>
<div class="section" id="initialize-the-smart-contract">
<h3>Initialize the smart contract<a class="headerlink" href="#initialize-the-smart-contract" title="Permalink to this headline">#</a></h3>
<p>Using the Module reference hash value, create a contract instance with the command below. This command is structured to use the Concordium testnet node described above. If you are using your own local node, adjust the command accordingly.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">concordium-client contract init &lt;MODULE-HASH&gt; --sender &lt;YOUR-ACCOUNT&gt; --energy 30000 --contract &lt;YOUR-CONTRACT-NAME&gt; --grpc-port 10000 --grpc-ip node.testnet.concordium.com</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../../_images/initialize-sc.png"><img alt="dark console screen with result of running the command above" src="../../../_images/initialize-sc.png" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><a class="reference internal" href="mint-xfer.html#mint-xfer-ft"><span class="std std-ref">Click here</span></a> to continue to the second part of the tutorial.</p>
</div>
</div>
</div>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Mint fungible tokens</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="mint-xfer.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Mint, transfer, and burn fungible tokens</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>

<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
    body {margin:0px;}
    
    .cc {
      position: relative;
      bottom: 0%;
      left: 0%;
    }
    
    .cc a {
      display: inline-block;
      text-align: left;
      padding: 16px;
      color: black;
      font-size: 8px;
    }
    
</style>
<body>
    
    <div class="cc">
        <a href="http://creativecommons.org/licenses/by-sa/4.0/">
            <img src="../../../_static/cc-sa-by.png" />  Copyright 2021 - 2023, Concordium Software ApS
        </a>
    </div>
  </body>


<div id="cookie-consent" class="consent">
    <p>This website only aggregates and analyzes the actions you take here if you allow cookies. If you do not allow cookies, it protects your privacy, but also prevents the owner from learning from your actions and creating a better experience for you and other users.</p><p>Note that if you opt in and you clear your cookies, delete the opt-in cookie, or if you change computers or Web browsers, you will need to perform the opt-in procedure again.</p>
    <button onclick="consentGranted()">Allow</button>
    <button onclick="consentDenied()">Decline</button>
    <a href="https://concordium.com/privacy-policy/">Privacy policy</a>
</div>

<!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];

// Save the choice in a cookie
function storeChoice(granted) {
  document.cookie = "cookie-consent=" + granted
}

// Look for a cookie storing the previous choice of the user.
// Returns undefined if no choice was stored, otherwise a boolean for whether the
// user gave consent.
function loadChoice() {
  if (!document.cookie.includes("cookie-consent=")) {
      return undefined;
  }
  return document.cookie.includes("cookie-consent=true")
}

// Removes the cookie consent banner
function removeCookieConsentBanner() {
  document.getElementById("cookie-consent").remove()
}

// Called by the cookie consent banner if granted permission
function consentGranted() {
  storeChoice(true)
  _paq.push(['setCookieConsentGiven']);
  removeCookieConsentBanner()
}

// Called by the cookie consent banner if denied permission
function consentDenied() {
  storeChoice(true)
  removeCookieConsentBanner()
}

const stored = loadChoice();
if (stored) {
 consentGranted()
}

_paq.push(['requireCookieConsent']);
/* tracker methods like "setCustomDimension" should be called before "trackPageView" */
_paq.push(['trackPageView']);
_paq.push(['enableLinkTracking']);

(function() {
    var u="https://concordium.matomo.cloud/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '2']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src='//cdn.matomo.cloud/concordium.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
  })();

  // remember tracking consent was given for all subsequent page views and visits
_paq.push(['rememberCookieConsentGiven']);

</script>

  </body>
</html>