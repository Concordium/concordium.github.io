



<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Run a baker node on Ubuntu &mdash; Concordium  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/concordium-logo-no-text.svg"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Run a baker node on Docker" href="baker-docker.html" />
    <link rel="prev" title="Run a baker node on macOS" href="baker-macos.html" />
<link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #4486AB" >
          


          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/concordium-logo-mainnet.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
<nav class="sidebar-top-menu">
    <a href="../index.html" class="active" ><i class="icon fa fa-connectdevelop"></i> Mainnet</a>
    <a href="../../smart-contracts/index.html" class=""> <i class="icon fa fa-file-o"></i> Smart Contracts </a>
</nav>

        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/downloads.html">Downloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/verification-instructions.html">Verification instructions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/concepts.html">Concordium Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/deciding-wallet.html">Deciding between the Desktop Wallet and the Mobile Wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/glossary.html">Glossary of Concordium Terms</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Concordium Mobile Wallet</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mobile-wallet/setup-maintenance-mw.html">Setup and Maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile-wallet/transfers-mw.html">Transfers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Concordium Desktop Wallet</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/setup-maintenance-dw.html">Setup and Maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/transfers-dw.html">Transfers and Transactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/baking-dw.html">Baking in the Desktop Wallet</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Concordium Client</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../references/concordium-client.html">Concordium Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/transactions.html">Concordium Client transactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/query-node.html">Querying a node</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Run a node</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ubuntu.html">Ubuntu nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="windows.html">Windows nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="macos.html">MacOS nodes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Baking</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../guides/overview-baker-process.html">Overview of the baker process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/become-baker.html">Become a baker using the Concordium Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/baker-windows.html">Run a baker node on Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="baker-macos.html">Run a baker node on macOS</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Run a baker node on Ubuntu</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">Run a baker node on Ubuntu</a></li>
<li class="toctree-l2"><a class="reference internal" href="#support-feedback">Support &amp; Feedback</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="baker-docker.html">Run a baker node on Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/baking-dw.html">Baking in the Desktop Wallet</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../resources/dashboards.html">Dashboards and Status Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/developer-tools.html">Auxiliary Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/release-notes-mainnet.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/legal.html">Legal</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Concordium</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Mainnet</a> &raquo;</li>
        
      <li>Run a baker node on Ubuntu</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="run-a-baker-node-on-ubuntu">
<span id="baker-ubuntu"></span><h1>Run a baker node on Ubuntu<a class="headerlink" href="#run-a-baker-node-on-ubuntu" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#prerequisites" id="id2">Prerequisites</a></p></li>
<li><p><a class="reference internal" href="#id1" id="id3">Run a baker node on Ubuntu</a></p>
<ul>
<li><p><a class="reference internal" href="#configure-the-node-with-baker-keys-on-mainnet" id="id4">Configure the node with baker keys on Mainnet</a></p></li>
<li><p><a class="reference internal" href="#configure-the-node-with-baker-keys-on-testnet" id="id5">Configure the node with baker keys on Testnet</a></p></li>
<li><p><a class="reference internal" href="#verify-that-a-node-is-a-baker-node" id="id6">Verify that a node is a baker node.</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#support-feedback" id="id7">Support &amp; Feedback</a></p></li>
</ul>
</div>
<p>This guide describes how to set up the node to run as a <a class="reference internal" href="../guides/run-node-ubuntu.html#baker-node-ubuntu"><span class="std std-ref">baker node</span></a>.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The node is installed and running.</p></li>
<li><p>If you want to run the node as a baker, you must have generated baker keys. How you generate baker keys depends on whether you are using Desktop Wallet or Mobile Wallet. For an overview of the process for both wallets, see <a class="reference internal" href="../guides/overview-baker-process.html#overview-baker"><span class="std std-ref">Overview of the baker process</span></a>.</p></li>
</ul>
</div>
<div class="section" id="id1">
<h2>Run a baker node on Ubuntu<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>The following steps show you how to run a node as a <a class="reference internal" href="../concepts/concepts-baker.html#baker-concept"><span class="std std-ref">baker</span></a> on a server that participates in the Concordium network. A node receives blocks and transactions from other nodes and propagates information about blocks and transactions to the nodes in the Concordium network. In addition, a baker node also participates in the lottery and produces its own blocks. If the stake is high enough the baker node also participates in finalization.</p>
<div class="section" id="configure-the-node-with-baker-keys-on-mainnet">
<h3>Configure the node with baker keys on Mainnet<a class="headerlink" href="#configure-the-node-with-baker-keys-on-mainnet" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Move the JSON file with the baker keys you generated to the server that’s running the node.
Store it, for example, in <code class="docutils literal notranslate"><span class="pre">/home/user/concordium/baker-credentials.json</span></code>.</p></li>
<li><p>In the terminal, enter:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>sudo systemctl edit concordium-mainnet-node.service
</pre></div>
</div>
</li>
<li><p>Add the following snippet to the opened file (the file is empty the first time you open it):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">[Service]</span>

<span class="go">Environment=CONCORDIUM_NODE_BAKER_CREDENTIALS_FILE=%S/concordium-9dd9ca4d19e9393877d2c44b70f89acbfc0883c2243e5eeaecc0d1cd0503f478/baker-credentials.json</span>
<span class="go">BindReadOnlyPaths=/home/user/concordium/baker-credentials.json:%S/concordium-9dd9ca4d19e9393877d2c44b70f89acbfc0883c2243e5eeaecc0d1cd0503f478/baker-credentials.json</span>
</pre></div>
</div>
<p>Where you replace the path <cite>/home/user/concordium/baker-credentials.json</cite> with the actual location of the file.</p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The path <cite>%S/concordium-9dd9ca4d19e9393877d2c44b70f89acbfc0883c2243e5eeaecc0d1cd0503f478/</cite> is the default path to the baker’s state directory, where <cite>9dd9ca4d19e9393877d2c44b70f89acbfc0883c2243e5eeaecc0d1cd0503f478</cite> is the genesis hash.</p>
</div>
<ol class="arabic">
<li><p>Save the edited file.</p></li>
<li><p>Restart the node for the changes to take effect. Enter:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>sudo systemctl restart concordium-mainnet-node.service
</pre></div>
</div>
</li>
<li><p>To verify the node is running, enter:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>sudo systemctl status concordium-mainnet-node.service
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="configure-the-node-with-baker-keys-on-testnet">
<h3>Configure the node with baker keys on Testnet<a class="headerlink" href="#configure-the-node-with-baker-keys-on-testnet" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Move the JSON file with the baker keys you generated to the server that’s running the node.
Store it, for example, in <code class="docutils literal notranslate"><span class="pre">/home/user/concordium/baker-credentials.json</span></code>.</p></li>
<li><p>In the terminal, enter:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>sudo systemctl edit concordium-testnet-node.service
</pre></div>
</div>
</li>
<li><p>Add the following snippet to the opened file (the file is empty the first time you open it):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">[Service]</span>

<span class="go">Environment=CONCORDIUM_NODE_BAKER_CREDENTIALS_FILE=%S/concordium-b6078154d6717e909ce0da4a45a25151b592824f31624b755900a74429e3073d/baker-credentials.json</span>
<span class="go">BindReadOnlyPaths=/home/user/concordium/baker-credentials.json:%S/concordium-b6078154d6717e909ce0da4a45a25151b592824f31624b755900a74429e3073d/baker-credentials.json</span>
</pre></div>
</div>
<p>Where you replace the path <cite>/home/user/concordium/baker-credentials.json</cite> with the actual location of the file.</p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The path <cite>%S/concordium-b6078154d6717e909ce0da4a45a25151b592824f31624b755900a74429e3073d/</cite> is the default path to the baker’s state directory, where <cite>b6078154d6717e909ce0da4a45a25151b592824f31624b755900a74429e3073d</cite> is the genesis hash.</p>
</div>
<ol class="arabic">
<li><p>Save the edited file.</p></li>
<li><p>Restart the node for the changes to take effect. Enter:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>sudo systemctl restart concordium-testnet-node.service
</pre></div>
</div>
</li>
<li><p>To verify the node is running, enter:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>sudo systemctl status concordium-testnet-node.service
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="verify-that-a-node-is-a-baker-node">
<h3>Verify that a node is a baker node.<a class="headerlink" href="#verify-that-a-node-is-a-baker-node" title="Permalink to this headline">¶</a></h3>
<p>Two <a class="reference internal" href="../resources/glossary.html#glossary"><span class="std std-ref">epochs</span></a> must have elapsed before you can see the baker ID of the node on the dashboard.</p>
<p>You can use <code class="docutils literal notranslate"><span class="pre">concordium-client</span></code> to see the status of the node. For more information, see <a class="reference internal" href="../references/concordium-client.html#concordium-client"><span class="std std-ref">Concordium Client</span></a>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>concordium-client raw GetNodeInfo

<span class="go">...</span>

<span class="go">Consensus type: &quot;Active&quot;</span>

<span class="go">...</span>
</pre></div>
</div>
<p>In the Desktop Wallet and the Mobile Wallet, a bread icon is added to
the account associated with the baker node. The bread icon appears as
soon as the transaction has been submitted. That is, before the two
epochs have elapsed.</p>
</div>
</div>
<div class="section" id="support-feedback">
<h2>Support &amp; Feedback<a class="headerlink" href="#support-feedback" title="Permalink to this headline">¶</a></h2>
<p>If you have questions or feedback, join us on <a class="reference external" href="https://support.concordium.software/">Discourse</a>, or contact us at <a class="reference external" href="mailto:support&#37;&#52;&#48;concordium&#46;software">support<span>&#64;</span>concordium<span>&#46;</span>software</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
<a href="http://creativecommons.org/licenses/by-sa/4.0/">
    <img style="margin-bottom: 0.5em" src="../../_static/cc-sa-by.png" />
</a>

    <p>
        &#169; Copyright 2021 - 2022, Concordium Software ApS.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: mainnet
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      <dd><a href="/en/mainnet/">mainnet</a></dd>
      <dd><a href="/en/testnet/">testnet</a></dd>
    </dl>
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TE81YY48VB"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', { 'ad_storage': 'denied', 'analytics_storage': loadChoice() ? 'granted' : 'denied' });
gtag('js', new Date());
gtag('config', 'G-TE81YY48VB', {'anonymize_ip': true});

// Save the choice in a cookie
function storeChoice(granted) {
    document.cookie = "cookie-consent=" + granted
}

// Look for a cookie storing the previous choice of the user.
// Returns undefined if no choice was stored, otherwise a boolean for whether the
// user gave consent.
function loadChoice() {
    if (!document.cookie.includes("cookie-consent=")) {
        return undefined;
    }
    return document.cookie.includes("cookie-consent=true")
}

// Removes the cookie consent banner
function removeCookieConsentBanner() {
    document.getElementById("cookie-consent").remove()
}

// Called by the cookie consent banner if granted permission
function consentGranted() {
    storeChoice(true)
    gtag('consent', 'update', { 'ad_storage': 'denied', 'analytics_storage': 'granted' });
    removeCookieConsentBanner()
}

// Called by the cookie consent banner if denied permission
function consentDenied() {
    storeChoice(false)
    removeCookieConsentBanner()
}


</script>
<div id="cookie-consent" class="consent">
    <p>We use cookies to ensure that we give you the best experience on our website, but only if you grant us the permission</p>
    <button onclick="consentGranted()">Allow</button>
    <button onclick="consentDenied()">Disallow</button>
    <a href="https://concordium.com/privacy-policy/">Privacy policy</a>
</div>
<script>
    const stored = loadChoice();
    if (stored !== undefined) {
        removeCookieConsentBanner()
    }
</script>


</body>
</html>