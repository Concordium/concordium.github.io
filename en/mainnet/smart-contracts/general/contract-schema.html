


<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart contract schemas &#8212; Concordium  documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../../_static/concordium-logo-no-text.svg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Resource accounting" href="resource-accounting.html" />
    <link rel="prev" title="Smart contract instances" href="contract-instances.html" />
<link href="../../_static/style.css" rel="stylesheet" type="text/css">

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/concordium-logo-dark.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<style>
body {margin:0;}

.navbar-menu {
  position: fixed;
}

.navbar-menu a {
  display: inline;
  text-align: left;
  padding: 16px;
  color: black;
  font-size: 15px;
}
/* Large devices (laptops/desktops, 992px to 768px ) */
@media only screen and (max-width: 992px) {
  .navbar-menu {
    display: none;}

}
</style>
<body>

<div class="navbar-menu w3-hide-medium w3-hide-small">
  <a href="../../net/guides/learn-about-concordium.html">Learn</a>
  <a href="../../net/nodes/node-requirements.html">Run a node</a>
  <a href="../../net/guides/deciding-wallet.html">Wallets</a>
  <a href="../../net/guides/overview-baker-process.html">Baking</a>
  <a href="../../net/guides/developer-page.html">Develop</a>
  <a href="../index.html">Smart Contracts</a>
</div>
</body>
</html>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/Concordium" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="mailto:support@concordium.software" rel="noopener" target="_blank" title="Support"><span><i class="fas fa-envelope"></i></span>
            <label class="sr-only">Support</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://support.concordium.software/latest" rel="noopener" target="_blank" title="Discourse"><img src="../../_static/discourse-brands.svg" class="icon-link-image" alt="Discourse"/></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="list-caption">
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    General
   </span>
  </p>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current nav bd-sidenav">
   <li class="toctree-l1">
    <a class="reference internal" href="introduction.html">
     Introduction to smart contracts
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="contract-module.html">
     Smart contract modules
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="contract-instances.html">
     Smart contract instances
    </a>
   </li>
   <li class="toctree-l1 current active">
    <a class="current reference internal" href="#">
     Smart contract schemas
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="resource-accounting.html">
     Resource accounting
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="develop-contracts.html">
     Developing smart contracts in Rust
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    Tutorials
   </span>
  </p>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="nav bd-sidenav">
   <li class="toctree-l1 has-children">
    <a class="reference internal" href="../tutorials/piggy-bank/index.html">
     The piggy bank smart contract
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l2">
      <a class="reference internal" href="../tutorials/piggy-bank/writing.html">
       1. Writing the piggy bank smart contract
      </a>
     </li>
     <li class="toctree-l2">
      <a class="reference internal" href="../tutorials/piggy-bank/testing.html">
       2. Testing the piggy bank smart contract
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    Contract development guides
   </span>
  </p>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="nav bd-sidenav">
   <li class="toctree-l1">
    <a class="reference internal" href="../guides/setup-tools.html">
     Install tools for development
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../guides/setup-contract.html">
     Setting up a smart contract project
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../guides/compile-module.html">
     Compile a Rust smart contract module
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../guides/unit-test-contract.html">
     Unit test a contract in Rust
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../guides/custom-errors.html">
     Return custom errors
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../guides/local-simulate.html">
     Locally simulate contract functions
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../guides/build-schema.html">
     Build a contract schema
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../guides/no-std.html">
     Build using
     <code class="docutils literal notranslate">
      <span class="pre">
       no_std
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    On-chain guides
   </span>
  </p>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="nav bd-sidenav">
   <li class="toctree-l1">
    <a class="reference internal" href="../guides/deploy-module.html">
     Deploy a smart contract module
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../guides/initialize-contract.html">
     Initialize a smart contract instance
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../guides/interact-instance.html">
     Interact with a smart contract instance
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../guides/inspect-instance.html">
     Inspect a smart contract instance
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l0 has-children">
  <p aria-level="2" class="caption" role="heading">
   <span class="caption-text">
    References
   </span>
  </p>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label class="label-parts" for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="nav bd-sidenav">
   <li class="toctree-l1">
    <a class="reference internal" href="../references/schema-json.html">
     Schema JSON representation
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../references/simulate-context.html">
     Simulation contexts
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../references/host-fns.html">
     Contract host functions
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../references/references-on-chain.html">
     References on-chain
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference internal" href="../references/local-settings.html">
     Local settings
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference external" href="https://github.com/Concordium/concordium-rust-smart-contracts">
     Rust contract examples (repo)
    </a>
   </li>
   <li class="toctree-l1">
    <a class="reference external" href="https://docs.rs/concordium-std/latest/concordium_std/">
     concordium-std
    </a>
   </li>
  </ul>
 </li>
</ul>
  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#why-use-a-contract-schema">
   Why use a contract schema
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#should-you-embed-or-write-to-a-file">
   Should you embed or write to a file?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-schema-format">
   The schema format
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#embedding-schemas-on-chain">
   Embedding schemas on-chain
  </a>
 </li>
</ul>

</nav>
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="smart-contract-schemas">
<span id="contract-schema"></span><h1>Smart contract schemas<a class="headerlink" href="#smart-contract-schemas" title="Permalink to this headline">#</a></h1>
<p>A smart contract schema is a description of how to represent bytes in a more
structured representation. It can be used by external tools when displaying the
state of a smart contract instance and for specifying parameters using a
structured representation, such as JSON.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For instructions on how to build the schema for a smart contract module in
Rust, see <a class="reference internal" href="../guides/build-schema.html#build-schema"><span class="std std-ref">Build a contract schema</span></a>.</p>
</div>
<div class="section" id="why-use-a-contract-schema">
<h2>Why use a contract schema<a class="headerlink" href="#why-use-a-contract-schema" title="Permalink to this headline">#</a></h2>
<p>Data on the blockchain, such as the state of an instance and parameters passed
to init and receive functions, is serialized as a sequence of bytes.
The serialization is optimized for efficiency, rather than human readability.</p>
<p>Usually these bytes have structure and this structure is known to the smart
contract as part of the contract functions, but outside of these functions it
can be difficult to make sense of the bytes. This is especially the case when
inspecting a complex state of a contract instance or when passing complex
parameters to a smart contract function. In the latter case, the bytes should
either be serialized from structured data or written manually.</p>
<p>The solution for avoiding manual parsing of bytes is to capture this information
in a <em>smart contract schema</em>, which describes how to make structure from the
bytes, and can be used by external tools.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">concordium-client</span></code> tool can use a schema to
<a class="reference internal" href="../guides/initialize-contract.html#init-passing-parameter-json"><span class="std std-ref">serialize JSON parameters</span></a>
and to deserialize the state of contract instances to JSON.</p>
</div>
<p>The schema is then either embedded into a smart contract module that is deployed
to the chain, or is written to a file and passed around off-chain.</p>
</div>
<div class="section" id="should-you-embed-or-write-to-a-file">
<h2>Should you embed or write to a file?<a class="headerlink" href="#should-you-embed-or-write-to-a-file" title="Permalink to this headline">#</a></h2>
<p>Whether a contract schema should be embedded or written to a file depends on
your situation.</p>
<p>Embedding the schema into the smart contract module distributes the schema
together with the contract ensuring the correct schema is being used and also
allows anyone to use it directly. The downside is that the smart contract module
becomes bigger in size and therefore more expensive to deploy.
But unless the smart contract uses very complex types for the state and
parameters, the size of the schema is likely to be negligible compared to the
size of the smart contract itself.</p>
<p>Having the schema in a separate file allows you to have the schema without
paying for the extra bytes when deploying.
The downside is that you instead have to distribute the schema file through some
other channel and ensure that contract users are using the correct file with your
smart contract.</p>
</div>
<div class="section" id="the-schema-format">
<h2>The schema format<a class="headerlink" href="#the-schema-format" title="Permalink to this headline">#</a></h2>
<p>A schema can contain</p>
<ul class="simple">
<li><p>structure information for a smart contract module</p></li>
<li><p>description of smart-contract state</p></li>
<li><p>parameters for init and receive functions of a smart contract.</p></li>
</ul>
<p>Each of these descriptions is referred to as a <em>schema type</em>. Schema types are always
optional to include in a schema.</p>
<p>Currently the supported schema types are inspired by what is commonly used in
the Rust programming language:</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span> <span class="nc">Type</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">Unit</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">Bool</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">U8</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">U16</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">U32</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">U64</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">U128</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">I8</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">I16</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">I32</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">I64</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">I128</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">Amount</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">AccountAddress</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">ContractAddress</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">Timestamp</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">Duration</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">Pair</span><span class="p">(</span><span class="n">Type</span><span class="p">,</span><span class="w"> </span><span class="n">Type</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="n">List</span><span class="p">(</span><span class="n">SizeLength</span><span class="p">,</span><span class="w"> </span><span class="n">Type</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="n">Set</span><span class="p">(</span><span class="n">SizeLength</span><span class="p">,</span><span class="w"> </span><span class="n">Type</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="n">Map</span><span class="p">(</span><span class="n">SizeLength</span><span class="p">,</span><span class="w"> </span><span class="n">Type</span><span class="p">,</span><span class="w"> </span><span class="n">Type</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="n">Array</span><span class="p">(</span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="n">Type</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="n">Struct</span><span class="p">(</span><span class="n">Fields</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="n">Enum</span><span class="p">(</span><span class="n">List</span><span class="w"> </span><span class="p">(</span><span class="nb">String</span><span class="p">,</span><span class="w"> </span><span class="n">Fields</span><span class="p">)),</span><span class="w"></span>
<span class="w">    </span><span class="nb">String</span><span class="p">(</span><span class="n">SizeLength</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="n">ContractName</span><span class="p">(</span><span class="n">SizeLength</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="n">ReceiveName</span><span class="p">(</span><span class="n">SizeLength</span><span class="p">),</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">enum</span> <span class="nc">Fields</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">Named</span><span class="p">(</span><span class="n">List</span><span class="w"> </span><span class="p">(</span><span class="nb">String</span><span class="p">,</span><span class="w"> </span><span class="n">Type</span><span class="p">)),</span><span class="w"></span>
<span class="w">    </span><span class="n">Unnamed</span><span class="p">(</span><span class="n">List</span><span class="w"> </span><span class="n">Type</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="n">Empty</span><span class="p">,</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">SizeLength</span></code> describes the number of bytes used to describe the length
of a variable length type, such as <code class="docutils literal notranslate"><span class="pre">List</span></code>.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span> <span class="nc">SizeLength</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">One</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">Two</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">Four</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">Eight</span><span class="p">,</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>For a reference on how a schema type is serialized into bytes, we refer the
reader to the <a class="reference external" href="https://github.com/Concordium/concordium-contracts-common/blob/main/src/schema.rs">implementation in Rust</a>.</p>
</div>
<div class="section" id="embedding-schemas-on-chain">
<span id="contract-schema-which-to-choose"></span><h2>Embedding schemas on-chain<a class="headerlink" href="#embedding-schemas-on-chain" title="Permalink to this headline">#</a></h2>
<p>Schemas are embedded into smart contract modules using the <a class="reference external" href="https://webassembly.github.io/spec/core/appendix/custom.html">custom
section</a> feature of Wasm modules.
This allows Wasm modules to include a named section of bytes, which does not
affect the semantics of running the Wasm module.</p>
<p>All schemas are collected and added in one custom section named
<code class="docutils literal notranslate"><span class="pre">concordium-schema-v1</span></code>.
This collection is a list of pairs, containing the name of the contract encoded
in UTF-8 and the contract schema bytes.</p>
</div>
</div>


              </div>
              
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>

<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
    body {margin:0px;}
    
    .cc {
      position: relative;
      bottom: 0%;
      left: 0%;
    }
    
    .cc a {
      display: inline-block;
      text-align: left;
      padding: 16px;
      color: black;
      font-size: 8px;
    }
    
</style>
<body>
    
    <div class="cc">
        <a href="http://creativecommons.org/licenses/by-sa/4.0/">
            <img src="../../_static/cc-sa-by.png" />  Copyright 2021 - 2022, Concordium Software ApS
        </a>
    </div>
  </body>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TE81YY48VB"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', { 'ad_storage': 'denied', 'analytics_storage': loadChoice() ? 'granted' : 'denied' });
gtag('js', new Date());
gtag('config', 'G-TE81YY48VB', {'anonymize_ip': true});

// Save the choice in a cookie
function storeChoice(granted) {
    document.cookie = "cookie-consent=" + granted
}

// Look for a cookie storing the previous choice of the user.
// Returns undefined if no choice was stored, otherwise a boolean for whether the
// user gave consent.
function loadChoice() {
    if (!document.cookie.includes("cookie-consent=")) {
        return undefined;
    }
    return document.cookie.includes("cookie-consent=true")
}

// Removes the cookie consent banner
function removeCookieConsentBanner() {
    document.getElementById("cookie-consent").remove()
}

// Called by the cookie consent banner if granted permission
function consentGranted() {
    storeChoice(true)
    gtag('consent', 'update', { 'ad_storage': 'denied', 'analytics_storage': 'granted' });
    removeCookieConsentBanner()
}

// Called by the cookie consent banner if denied permission
function consentDenied() {
    storeChoice(false)
    removeCookieConsentBanner()
}


</script>
<div id="cookie-consent" class="consent">
    <p>We use cookies to ensure that we give you the best experience on our website, but only if you grant us the permission.</p>
    <button onclick="consentGranted()">Allow</button>
    <button onclick="consentDenied()">Decline</button>
    <a href="https://concordium.com/privacy-policy/">Privacy policy</a>
</div>
<script>
    const stored = loadChoice();
    if (stored !== undefined) {
        removeCookieConsentBanner()
    }
</script>

  </body>
</html>