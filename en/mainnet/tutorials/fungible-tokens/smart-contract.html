


<!DOCTYPE html>


<html lang="en" data-content_root="../../" data-theme="auto">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Smart contract implementation for fungible tokens &#8212; Concordium  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "auto";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "auto";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=19c83c19" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tippy.css?v=124524c4" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=716d1818"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script defer="defer" src="https://unpkg.com/@popperjs/core@2"></script>
    <script defer="defer" src="https://unpkg.com/tippy.js@6"></script>
    <script defer="defer" src="../../_static/tippy/tutorials/fungible-tokens/smart-contract.5d031163-1daf-409d-bd57-f6fc71f26847.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorials/fungible-tokens/smart-contract';</script>
    <link rel="canonical" href="https://docs.concordium.com/en/mainnet/tutorials/fungible-tokens/smart-contract.html" />
    <link rel="icon" href="../../_static/concordium-logo-no-text.svg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Mint, transfer, and burn fungible tokens" href="mint-xfer.html" />
    <link rel="prev" title="Mint fungible tokens" href="index.html" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,700;1,400;1,700&family=IBM+Plex+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap" />

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="auto">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>
<aside class="bd-header-announcement" aria-label="Announcement">
  <div class="bd-header-announcement__content">Protocol 8 is now live on mainnet. For more information, visit our <a href="https://docs.concordium.com/en/mainnet/docs/release-notes/release-notes-lp.html#mainnet" target="_blank">release notes page</a>.</div>
</aside>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item"><style>
.navbar-brand img {
    max-height: 200px;
    width: auto;
}
</style>

<div>
    <a href="https://developer.concordium.software/">
        <img class="logo light-logo" src="../../_static/concordium-logo-dark.svg" />
        <img class="logo dark-logo" src="../../_static/concordium-logo.svg" />
    </a>
</div></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../docs/index.html">
    Docs
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../tools/index.html">
    Tools
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../community/index.html">
    Community
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://github.com/Concordium" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="mailto:support@concordium.software" title="Support" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Support</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://developer.concordium.software/en/mainnet/net/guides/developer-page.html#block-explorers" title="Monitor" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fas fa-chart-line fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Monitor</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://support.concordium.software/latest" title="Discourse" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-discourse fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discourse</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://discord.com/invite/GpKGE2hCFx" title="Discord" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-discord fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discord</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/channel/UCPZc2CuB2jGbZjD_5zX7-1A" title="YouTube" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-youtube fa-lg" aria-hidden="true"></i>
            <span class="sr-only">YouTube</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://medium.com/@concordium" title="Medium" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-medium fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Medium</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../docs/index.html">
    Docs
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../tools/index.html">
    Tools
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../community/index.html">
    Community
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://github.com/Concordium" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="mailto:support@concordium.software" title="Support" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Support</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://developer.concordium.software/en/mainnet/net/guides/developer-page.html#block-explorers" title="Monitor" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fas fa-chart-line fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Monitor</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://support.concordium.software/latest" title="Discourse" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-discourse fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discourse</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://discord.com/invite/GpKGE2hCFx" title="Discord" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-discord fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discord</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/channel/UCPZc2CuB2jGbZjD_5zX7-1A" title="YouTube" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-youtube fa-lg" aria-hidden="true"></i>
            <span class="sr-only">YouTube</span></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="https://medium.com/@concordium" title="Medium" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-medium fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Medium</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Smart Contract Tutorials</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../setup-env.html">Setup the development environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../counter/counter-contract.html">Counter</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../piggy-bank/index.html">PiggyBank</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../piggy-bank/writing.html">Writing the piggy bank smart contract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../piggy-bank/testing.html">Testing the piggy bank smart contract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../piggy-bank/deploying.html">Deploying the piggy bank smart contract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../piggy-bank/frontend.html">Setting up a frontend</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../wCCD/index.html">wCCD</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../wCCD/wCCD-introduction.html">Understanding the wCCD token protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wCCD/wCCD-interacting.html">Interacting with the wCCD token protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wCCD/wCCD-frontend-set-up.html">Setting up the frontend</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../voting/index.html">The Voting dApp</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../voting/voting-sc.html">Writing a voting smart contract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../voting/voting-dapp.html">Setting up the frontend</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../nft-minting/index.html">Mint an NFT</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../nft-minting/upload-nft.html">Upload the NFT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nft-minting/build-smart-contract.html">Initialize, build, and deploy the smart contract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nft-minting/mint-xfer.html">Mint and transfer the NFT</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../sft-minting/index.html">Mint a semi-fungible token</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../sft-minting/build-smart-contract.html">Smart contract modifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sft-minting/mint-xfer.html">Mint and transfer semi-fungible token</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Mint fungible tokens</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Smart contract implementation for fungible tokens</a></li>
<li class="toctree-l2"><a class="reference internal" href="mint-xfer.html">Mint, transfer, and burn fungible tokens</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../low-code-nft-marketplace/introduction.html">Concordium low-code NFT framework</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../low-code-nft-marketplace/marketplace.html">Low code NFT marketplace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low-code-nft-marketplace/minting-tool.html">Low-code NFT minting tool</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../eSealing/index.html">eSealing</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../eSealing/eSealing_dapp.html">Exploring the eSealing dapp</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../sponsoredTransactions/index.html">Sponsored Transactions</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../sponsoredTransactions/sponsoredTransactionsSmartContract.html">Exploring the sponsored Transactions Smart Contract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sponsoredTransactions/sponsoredTransactionsFrontendAndBackend.html">Exploring the sponsored Transactions dApp</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../smartContractUpgrade/index.html">Smart Contract Upgrade</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../smartContractUpgrade/smartContractUpgrade.html">Native upgradability</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Additional Ressources</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../daap-examples/dapp-examples.html"> dApp examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../company-identity/company-identities.html"> How to create a company identity</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none"></div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="smart-contract-implementation-for-fungible-tokens">
<h1>Smart contract implementation for fungible tokens<a class="headerlink" href="#smart-contract-implementation-for-fungible-tokens" title="Link to this heading">#</a></h1>
<p>For your token contract, use the <a class="reference external" href="https://github.com/Concordium/concordium-rust-smart-contracts/tree/main/examples/cis2-multi">cis2-multi contract from Concordium’s example smart contract repository on GitHub</a>. You will make some minor modifications to it in this tutorial, such as the maximum supply of your token, circulating supply, and a burn function. Basically, no one will be able to mint a token again if it already met the maximum supply. Your token will be deflationary in that sense. Burning a token will not affect the circulating supply; if you want, you can adjust the corresponding function so it could affect circulating supply.</p>
<section id="minting">
<h2>Minting<a class="headerlink" href="#minting" title="Link to this heading">#</a></h2>
<p>First, add the changes to your contract for the minting parameters that you require when <code class="docutils literal notranslate"><span class="pre">mint()</span></code> is invoked. It will ask for the minting amount and <code class="docutils literal notranslate"><span class="pre">max_supply</span></code>. Create a struct called <code class="docutils literal notranslate"><span class="pre">TokenParams</span></code> and add this to the tokens tree as shown below.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[derive(Serial, Deserial, SchemaType)]</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">TokenParams</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">amount</span><span class="p">:</span><span class="w"> </span><span class="nc">TokenAmountU64</span><span class="p">,</span>
<span class="w">    </span><span class="n">max_supply</span><span class="p">:</span><span class="w"> </span><span class="nc">ContractTokenAmount</span><span class="p">,</span>
<span class="p">}</span>

<span class="sd">/// The parameter for the contract function `mint` which mints a number of</span>
<span class="sd">/// token types and/or amounts of tokens to a given address.</span>
<span class="cp">#[derive(Serial, Deserial, SchemaType)]</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">MintParams</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="sd">/// Owner of the newly minted tokens.</span>
<span class="w">    </span><span class="n">owner</span><span class="p">:</span><span class="w"> </span><span class="nc">Address</span><span class="p">,</span>
<span class="w">    </span><span class="sd">/// A collection of tokens to mint.</span>
<span class="w">    </span><span class="n">tokens</span><span class="p">:</span><span class="w"> </span><span class="nc">collections</span><span class="p">::</span><span class="n">BTreeMap</span><span class="o">&lt;</span><span class="n">ContractTokenId</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">TokenMetadata</span><span class="p">,</span><span class="w"> </span><span class="n">TokenParams</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now, you need to update the <code class="docutils literal notranslate"><span class="pre">state</span></code> struct which keeps the current state of your contract. In this case, you want it to store the maximum supply and the circulating supply. Here in <code class="docutils literal notranslate"><span class="pre">max_supply</span></code> you have the tokenId as the key and the amount as the value in the map, and then you have the <code class="docutils literal notranslate"><span class="pre">token_balance</span></code> map which holds the tokenId as the key and circulating amount as the value.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="sd">/// The contract state,</span>
<span class="sd">///</span>
<span class="sd">/// Note: The specification does not specify how to structure the contract state</span>
<span class="sd">/// and this could be structured in a more space efficient way.</span>
<span class="cp">#[derive(Serial, DeserialWithState)]</span>
<span class="cp">#[concordium(state_parameter = </span><span class="s">&quot;S&quot;</span><span class="cp">)]</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">State</span><span class="o">&lt;</span><span class="n">S</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StateApi</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="sd">/// The state of addresses.</span>
<span class="w">    </span><span class="n">state</span><span class="p">:</span><span class="w"> </span><span class="nc">StateMap</span><span class="o">&lt;</span><span class="n">Address</span><span class="p">,</span><span class="w"> </span><span class="n">AddressState</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="sd">/// All of the token IDs</span>
<span class="w">    </span><span class="n">tokens</span><span class="p">:</span><span class="w"> </span><span class="nc">StateMap</span><span class="o">&lt;</span><span class="n">ContractTokenId</span><span class="p">,</span><span class="w"> </span><span class="n">MetadataUrl</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="c1">// max supply of the token</span>
<span class="w">    </span><span class="n">max_supply</span><span class="p">:</span><span class="w"> </span><span class="nc">StateMap</span><span class="o">&lt;</span><span class="n">ContractTokenId</span><span class="p">,</span><span class="w"> </span><span class="n">ContractTokenAmount</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span>

<span class="w">    </span><span class="n">token_balance</span><span class="p">:</span><span class="w"> </span><span class="nc">StateMap</span><span class="o">&lt;</span><span class="n">ContractTokenId</span><span class="p">,</span><span class="w"> </span><span class="n">ContractTokenAmount</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="sd">/// Map with contract addresses providing implementations of additional</span>
<span class="w">    </span><span class="sd">/// standards.</span>
<span class="w">    </span><span class="n">implementors</span><span class="p">:</span><span class="w"> </span><span class="nc">StateMap</span><span class="o">&lt;</span><span class="n">StandardIdentifierOwned</span><span class="p">,</span><span class="w"> </span><span class="nb">Vec</span><span class="o">&lt;</span><span class="n">ContractAddress</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="o">&gt;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then, add some custom errors in your <code class="docutils literal notranslate"><span class="pre">CustomContractError</span></code> enum. As you can see below, the last two are new for this use case.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="sd">/// The different errors the contract can produce.</span>
<span class="cp">#[derive(Serialize, Debug, PartialEq, Eq, Reject, SchemaType)]</span>
<span class="k">enum</span><span class="w"> </span><span class="nc">CustomContractError</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="sd">/// Failed parsing the parameter.</span>
<span class="w">    </span><span class="cp">#[from(ParseError)]</span>
<span class="w">    </span><span class="n">ParseParams</span><span class="p">,</span>
<span class="w">    </span><span class="sd">/// Failed logging: Log is full.</span>
<span class="w">    </span><span class="n">LogFull</span><span class="p">,</span>
<span class="w">    </span><span class="sd">/// Failed logging: Log is malformed.</span>
<span class="w">    </span><span class="n">LogMalformed</span><span class="p">,</span>
<span class="w">    </span><span class="sd">/// Invalid contract name.</span>
<span class="w">    </span><span class="n">InvalidContractName</span><span class="p">,</span>
<span class="w">    </span><span class="sd">/// Only a smart contract can call this function.</span>
<span class="w">    </span><span class="n">ContractOnly</span><span class="p">,</span>
<span class="w">    </span><span class="sd">/// Failed to invoke a contract.</span>
<span class="w">    </span><span class="n">InvokeContractError</span><span class="p">,</span>
<span class="w">    </span><span class="sd">/// Minted token unique ID</span>
<span class="w">    </span><span class="n">TokenAlreadyMinted</span><span class="p">,</span>
<span class="w">    </span><span class="c1">// max supply reached</span>
<span class="w">    </span><span class="n">MaxSupplyReached</span><span class="p">,</span>
<span class="w">    </span><span class="c1">// burning</span>
<span class="w">    </span><span class="n">NoBalanceToBurn</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Since you added new maps to your state, you need to handle their initialization in the <code class="docutils literal notranslate"><span class="pre">empty()</span></code> method of the state implementations. To do this, call <code class="docutils literal notranslate"><span class="pre">state_builder.new_map()</span></code>.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span><span class="w"> </span><span class="nf">empty</span><span class="p">(</span><span class="n">state_builder</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">StateBuilder</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">Self</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">State</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">state</span><span class="p">:</span><span class="w"> </span><span class="nc">state_builder</span><span class="p">.</span><span class="n">new_map</span><span class="p">(),</span>
<span class="w">            </span><span class="n">tokens</span><span class="p">:</span><span class="w"> </span><span class="nc">state_builder</span><span class="p">.</span><span class="n">new_map</span><span class="p">(),</span>
<span class="w">            </span><span class="n">max_supply</span><span class="p">:</span><span class="w"> </span><span class="nc">state_builder</span><span class="p">.</span><span class="n">new_map</span><span class="p">(),</span>
<span class="w">            </span><span class="n">token_balance</span><span class="p">:</span><span class="w"> </span><span class="nc">state_builder</span><span class="p">.</span><span class="n">new_map</span><span class="p">(),</span>
<span class="w">            </span><span class="n">implementors</span><span class="p">:</span><span class="w"> </span><span class="nc">state_builder</span><span class="p">.</span><span class="n">new_map</span><span class="p">(),</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="mint-function">
<h2>Mint function<a class="headerlink" href="#mint-function" title="Link to this heading">#</a></h2>
<p>As discussed earlier, you have new inputs in <code class="docutils literal notranslate"><span class="pre">MintParams</span></code>, so when you get the JSON parameter as the input you expect an object that holds both metadata and another struct that holds the maximum supply and the amount to be minted. That is why there is <code class="docutils literal notranslate"><span class="pre">token_info</span></code>. <code class="docutils literal notranslate"><span class="pre">token_info.0</span></code> will represent the <code class="docutils literal notranslate"><span class="pre">TokenMetadata</span></code> struct and <code class="docutils literal notranslate"><span class="pre">token_info.1</span></code> will represent <code class="docutils literal notranslate"><span class="pre">TokenParams</span></code>.</p>
<p>Unlike the NFT tutorials, this time you actually want the token to be mintable with the same ID. Just keep it less than the maximum value. That is why you commented on the first ensure statement which makes sure that the tokenId is unique for a token.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[receive(</span>
<span class="cp">    contract = </span><span class="s">&quot;fungible-cis2&quot;</span><span class="cp">,</span>
<span class="cp">    name = </span><span class="s">&quot;mint&quot;</span><span class="cp">,</span>
<span class="cp">    parameter = </span><span class="s">&quot;MintParams&quot;</span><span class="cp">,</span>
<span class="cp">    error = </span><span class="s">&quot;ContractError&quot;</span><span class="cp">,</span>
<span class="cp">    enable_logger,</span>
<span class="cp">    mutable</span>
<span class="cp">)]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">contract_mint</span><span class="p">(</span>
<span class="w">    </span><span class="n">ctx</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">ReceiveContext</span><span class="p">,</span>
<span class="w">    </span><span class="n">host</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">Host</span><span class="o">&lt;</span><span class="n">State</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="n">logger</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">Logger</span><span class="p">,</span>
<span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">ContractResult</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Get the contract owner</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">owner</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// Get the sender of the transaction</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">sender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">sender</span><span class="p">();</span>

<span class="w">    </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span><span class="n">sender</span><span class="p">.</span><span class="n">matches_account</span><span class="p">(</span><span class="o">&amp;</span><span class="n">owner</span><span class="p">),</span><span class="w"> </span><span class="n">ContractError</span><span class="p">::</span><span class="n">Unauthorized</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Parse the parameter.</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">params</span><span class="p">:</span><span class="w"> </span><span class="nc">MintParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">parameter_cursor</span><span class="p">().</span><span class="n">get</span><span class="p">()</span><span class="o">?</span><span class="p">;</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="n">builder</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">host</span><span class="p">.</span><span class="n">state_and_builder</span><span class="p">();</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">token_info</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">tokens</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ensure!(</span>
<span class="w">        </span><span class="c1">//     !state.contains_token(&amp;token_id),</span>
<span class="w">        </span><span class="c1">//     ContractError::Custom(CustomContractError::TokenAlreadyMinted)</span>
<span class="w">        </span><span class="c1">// );</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">!</span><span class="n">state</span><span class="p">.</span><span class="n">contains_token</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">state</span><span class="p">.</span><span class="n">set_max_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">max_supply</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="n">max_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">get_token_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>
<span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="n">circulating_suppy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">get_circulating_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>

<span class="w">            </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span>
<span class="w">                </span><span class="n">circulating_suppy</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">max_supply</span><span class="p">,</span>
<span class="w">                </span><span class="n">ContractError</span><span class="p">::</span><span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span><span class="p">::</span><span class="n">MaxSupplyReached</span><span class="p">)</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span>
<span class="w">                </span><span class="o">&amp;</span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">amount</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="o">&amp;</span><span class="p">(</span><span class="n">max_supply</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">circulating_suppy</span><span class="p">),</span>
<span class="w">                </span><span class="n">ContractError</span><span class="p">::</span><span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span><span class="p">::</span><span class="n">MaxSupplyReached</span><span class="p">)</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// Mint the token in the state.</span>
<span class="w">        </span><span class="n">state</span><span class="p">.</span><span class="n">mint</span><span class="p">(</span>
<span class="w">            </span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">,</span>
<span class="w">            </span><span class="o">&amp;</span><span class="n">token_info</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">amount</span><span class="p">,</span>
<span class="w">            </span><span class="o">&amp;</span><span class="n">params</span><span class="p">.</span><span class="n">owner</span><span class="p">,</span>
<span class="w">            </span><span class="n">builder</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Event for minted token.</span>
<span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Cis2Event</span><span class="p">::</span><span class="n">Mint</span><span class="p">(</span><span class="n">MintEvent</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">token_id</span><span class="p">,</span>
<span class="w">            </span><span class="n">amount</span><span class="p">:</span><span class="w"> </span><span class="nc">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">amount</span><span class="p">,</span>
<span class="w">            </span><span class="n">owner</span><span class="p">:</span><span class="w"> </span><span class="nc">params</span><span class="p">.</span><span class="n">owner</span><span class="p">,</span>
<span class="w">        </span><span class="p">}))</span><span class="o">?</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// Metadata URL for the token.</span>
<span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Cis2Event</span><span class="p">::</span><span class="n">TokenMetadata</span><span class="p">::</span><span class="o">&lt;</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">ContractTokenAmount</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">            </span><span class="n">TokenMetadataEvent</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">token_id</span><span class="p">,</span>
<span class="w">                </span><span class="n">metadata_url</span><span class="p">:</span><span class="w"> </span><span class="nc">token_info</span><span class="p">.</span><span class="mf">0.</span><span class="n">to_metadata_url</span><span class="p">(),</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">))</span><span class="o">?</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nb">Ok</span><span class="p">(())</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the following <code class="docutils literal notranslate"><span class="pre">if</span></code> clause you are checking if this token has been minted before. If not, set its maximum supply in the state by using the <code class="docutils literal notranslate"><span class="pre">set_max_supply()</span></code> function.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="o">!</span><span class="n">state</span><span class="p">.</span><span class="n">contains_token</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">state</span><span class="p">.</span><span class="n">set_max_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">max_supply</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">max_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">get_token_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">circulating_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">get_circulating_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>

<span class="w">    </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span>
<span class="w">        </span><span class="n">circulating_supply</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">max_supply</span><span class="p">,</span>
<span class="w">        </span><span class="n">ContractError</span><span class="p">::</span><span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span><span class="p">::</span><span class="n">MaxSupplyReached</span><span class="p">)</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span>
<span class="w">        </span><span class="o">&amp;</span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">amount</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="o">&amp;</span><span class="p">(</span><span class="n">max_supply</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">circulating_supply</span><span class="p">),</span>
<span class="w">        </span><span class="n">ContractError</span><span class="p">::</span><span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span><span class="p">::</span><span class="n">MaxSupplyReached</span><span class="p">)</span>
<span class="w">    </span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Otherwise, it means you have minted this token before, so you need to check how many were minted already, and based on that, decide to either mint or throw an error.</p>
<p>Look a bit closer at these helper functions, including <code class="docutils literal notranslate"><span class="pre">set_max_supply()</span></code>. It takes the <code class="docutils literal notranslate"><span class="pre">&amp;mut</span> <span class="pre">self</span></code> as a parameter because it will change the state so the mutable self of the state should be provided. In <code class="docutils literal notranslate"><span class="pre">token_id</span></code> enter the tokenId to set the key, and enter <code class="docutils literal notranslate"><span class="pre">max_supply</span></code> to set the value.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[inline(always)]</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">set_max_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">token_id</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">ContractTokenId</span><span class="p">,</span><span class="w"> </span><span class="n">max_supply</span><span class="p">:</span><span class="w"> </span><span class="nc">ContractTokenAmount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="bp">self</span><span class="p">.</span><span class="n">max_supply</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="o">*</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">max_supply</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">get_token_supply()</span></code> function first checks if the <code class="docutils literal notranslate"><span class="pre">token_id</span></code> is correct, meaning whether the state has that token, and then it will get the <code class="docutils literal notranslate"><span class="pre">max_supply</span></code> for that token which is specified while minting. The following section shows the minting function.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="sd">/// Check that the token ID currently exists in this contract.</span>
<span class="w">    </span><span class="cp">#[inline(always)]</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">get_token_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">token_id</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">ContractTokenId</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">ContractResult</span><span class="o">&lt;</span><span class="n">ContractTokenAmount</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span>
<span class="w">            </span><span class="bp">self</span><span class="p">.</span><span class="n">contains_token</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">),</span>
<span class="w">            </span><span class="n">ContractError</span><span class="p">::</span><span class="n">InvalidTokenId</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">max_supply</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">token_id</span><span class="p">).</span><span class="n">map_or</span><span class="p">(</span><span class="mf">0.</span><span class="n">into</span><span class="p">(),</span><span class="w"> </span><span class="o">|</span><span class="n">x</span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="p">);</span>
<span class="w">        </span><span class="nb">Ok</span><span class="p">(</span><span class="n">supply</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
<p>The last helper is the <code class="docutils literal notranslate"><span class="pre">get_circulating_supply()</span></code> which will be used to get the circulating supply.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="c1">// check cirulating supply</span>
<span class="w">    </span><span class="cp">#[inline(always)]</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">get_circulating_supply</span><span class="p">(</span>
<span class="w">        </span><span class="o">&amp;</span><span class="bp">self</span><span class="p">,</span>
<span class="w">        </span><span class="n">token_id</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">ContractTokenId</span><span class="p">,</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">ContractResult</span><span class="o">&lt;</span><span class="n">ContractTokenAmount</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">contains_token</span><span class="p">(</span><span class="n">token_id</span><span class="p">),</span><span class="w"> </span><span class="n">ContractError</span><span class="p">::</span><span class="n">InvalidTokenId</span><span class="p">);</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">circulating_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">token_balance</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">token_id</span><span class="p">).</span><span class="n">map_or</span><span class="p">(</span><span class="mf">0.</span><span class="n">into</span><span class="p">(),</span><span class="w"> </span><span class="o">|</span><span class="n">x</span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="p">);</span>
<span class="w">        </span><span class="nb">Ok</span><span class="p">(</span><span class="n">circulating_supply</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
<section id="contract-mint-function">
<h3>Contract mint function<a class="headerlink" href="#contract-mint-function" title="Link to this heading">#</a></h3>
<p>You will compare the circulating supply, maximum supply and the amount to be minted. If the mint amount + circulating supply is more than the maximum supply you will not allow minting.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">contact_mint</span></code> function below see the following changes accordingly. First, the parameters are read as a form of JSON. See the <code class="docutils literal notranslate"><span class="pre">MintParams</span></code> struct for the details of the parameters. In the first <code class="docutils literal notranslate"><span class="pre">if</span></code> clause, it first checks if the token exists in the state. If not, meaning you are going to mint this token for the first time, you will set the maximum supply by calling the <code class="docutils literal notranslate"><span class="pre">set_max_supply()</span></code> function. The max_supply value is in the <code class="docutils literal notranslate"><span class="pre">TokenParam</span></code> struct as the second item.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">mint()</span></code> function is not called for the first time, then you need to check the conditions. Therefore, you need to <code class="docutils literal notranslate"><span class="pre">get_token_supply()</span></code> and <code class="docutils literal notranslate"><span class="pre">get_circulating_supply()</span></code>. Here you have to make sure of two conditions: first, you need to check that the circulating supply is already less than or equal to the maximum supply; and then when you add the new token amount to be minted to the existing amount, meaning the circulating supply, this should be less than or equal to the maximum supply. The following two <code class="docutils literal notranslate"><span class="pre">ensure</span></code> statements check that these conditions are sufficient before calling the state’s <code class="docutils literal notranslate"><span class="pre">mint()</span></code> function.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[receive(</span>
<span class="cp">    contract = </span><span class="s">&quot;fungible-cis2&quot;</span><span class="cp">,</span>
<span class="cp">    name = </span><span class="s">&quot;mint&quot;</span><span class="cp">,</span>
<span class="cp">    parameter = </span><span class="s">&quot;MintParams&quot;</span><span class="cp">,</span>
<span class="cp">    error = </span><span class="s">&quot;ContractError&quot;</span><span class="cp">,</span>
<span class="cp">    enable_logger,</span>
<span class="cp">    mutable</span>
<span class="cp">)]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">contract_mint</span><span class="p">(</span>
<span class="w">    </span><span class="n">ctx</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">ReceiveContext</span><span class="p">,</span>
<span class="w">    </span><span class="n">host</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">Host</span><span class="o">&lt;</span><span class="n">State</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="n">logger</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">Logger</span><span class="p">,</span>
<span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">ContractResult</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Get the contract owner</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">owner</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// Get the sender of the transaction</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">sender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">sender</span><span class="p">();</span>

<span class="w">    </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span><span class="n">sender</span><span class="p">.</span><span class="n">matches_account</span><span class="p">(</span><span class="o">&amp;</span><span class="n">owner</span><span class="p">),</span><span class="w"> </span><span class="n">ContractError</span><span class="p">::</span><span class="n">Unauthorized</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Parse the parameter.</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">params</span><span class="p">:</span><span class="w"> </span><span class="nc">MintParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">parameter_cursor</span><span class="p">().</span><span class="n">get</span><span class="p">()</span><span class="o">?</span><span class="p">;</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="n">builder</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">host</span><span class="p">.</span><span class="n">state_and_builder</span><span class="p">();</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">token_info</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">tokens</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ensure!(</span>
<span class="w">        </span><span class="c1">//     state.contains_token(&amp;token_id),</span>
<span class="w">        </span><span class="c1">//     ContractError::Custom(CustomContractError::TokenAlreadyMinted)</span>
<span class="w">        </span><span class="c1">// );</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">!</span><span class="n">state</span><span class="p">.</span><span class="n">contains_token</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">state</span><span class="p">.</span><span class="n">set_max_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">max_supply</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="n">max_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">get_token_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>
<span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="n">circulating_suppy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">get_circulating_supply</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>

<span class="w">            </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span>
<span class="w">                </span><span class="n">circulating_suppy</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">max_supply</span><span class="p">,</span>
<span class="w">                </span><span class="n">ContractError</span><span class="p">::</span><span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span><span class="p">::</span><span class="n">MaxSupplyReached</span><span class="p">)</span>
<span class="w">            </span><span class="p">);</span>

<span class="w">            </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span>
<span class="w">                </span><span class="o">&amp;</span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">amount</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="o">&amp;</span><span class="p">(</span><span class="n">max_supply</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">circulating_suppy</span><span class="p">),</span>
<span class="w">                </span><span class="n">ContractError</span><span class="p">::</span><span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span><span class="p">::</span><span class="n">MaxSupplyReached</span><span class="p">)</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// Mint the token in the state.</span>
<span class="w">        </span><span class="n">state</span><span class="p">.</span><span class="n">mint</span><span class="p">(</span>
<span class="w">            </span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">,</span>
<span class="w">            </span><span class="o">&amp;</span><span class="n">token_info</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="n">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">amount</span><span class="p">,</span>
<span class="w">            </span><span class="o">&amp;</span><span class="n">params</span><span class="p">.</span><span class="n">owner</span><span class="p">,</span>
<span class="w">            </span><span class="n">builder</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Event for minted token.</span>
<span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Cis2Event</span><span class="p">::</span><span class="n">Mint</span><span class="p">(</span><span class="n">MintEvent</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">token_id</span><span class="p">,</span>
<span class="w">            </span><span class="n">amount</span><span class="p">:</span><span class="w"> </span><span class="nc">token_info</span><span class="p">.</span><span class="mf">1.</span><span class="n">amount</span><span class="p">,</span>
<span class="w">            </span><span class="n">owner</span><span class="p">:</span><span class="w"> </span><span class="nc">params</span><span class="p">.</span><span class="n">owner</span><span class="p">,</span>
<span class="w">        </span><span class="p">}))</span><span class="o">?</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// Metadata URL for the token.</span>
<span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Cis2Event</span><span class="p">::</span><span class="n">TokenMetadata</span><span class="p">::</span><span class="o">&lt;</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">ContractTokenAmount</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">            </span><span class="n">TokenMetadataEvent</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">token_id</span><span class="p">,</span>
<span class="w">                </span><span class="n">metadata_url</span><span class="p">:</span><span class="w"> </span><span class="nc">token_info</span><span class="p">.</span><span class="mf">0.</span><span class="n">to_metadata_url</span><span class="p">(),</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">))</span><span class="o">?</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nb">Ok</span><span class="p">(())</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="state-mint-function">
<h3>State mint function<a class="headerlink" href="#state-mint-function" title="Link to this heading">#</a></h3>
<p>There is only one minor change needed in the state’s mint function, which is increasing the circulating supply when a token is minted. You are keeping the circulating balance in the <code class="docutils literal notranslate"><span class="pre">token_balance</span></code> map, using the <code class="docutils literal notranslate"><span class="pre">token_id</span></code> key of the map to call the value and update it, which you do in the last statement.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="sd">/// Mints an amount of tokens with a given address as the owner.</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">mint</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">,</span>
<span class="w">    </span><span class="n">token_id</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">ContractTokenId</span><span class="p">,</span>
<span class="w">    </span><span class="n">token_metadata</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">TokenMetadata</span><span class="p">,</span>
<span class="w">    </span><span class="n">amount</span><span class="p">:</span><span class="w"> </span><span class="nc">ContractTokenAmount</span><span class="p">,</span>
<span class="w">    </span><span class="n">owner</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">Address</span><span class="p">,</span>
<span class="w">    </span><span class="n">state_builder</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">StateBuilder</span><span class="p">,</span>
<span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="bp">self</span><span class="p">.</span><span class="n">tokens</span>
<span class="w">        </span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="o">*</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">token_metadata</span><span class="p">.</span><span class="n">to_metadata_url</span><span class="p">());</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">owner_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span>
<span class="w">        </span><span class="p">.</span><span class="n">state</span>
<span class="w">        </span><span class="p">.</span><span class="n">entry</span><span class="p">(</span><span class="o">*</span><span class="n">owner</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="n">or_insert_with</span><span class="p">(</span><span class="o">||</span><span class="w"> </span><span class="n">AddressState</span><span class="p">::</span><span class="n">empty</span><span class="p">(</span><span class="n">state_builder</span><span class="p">));</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">owner_balance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">owner_state</span><span class="p">.</span><span class="n">balances</span><span class="p">.</span><span class="n">entry</span><span class="p">(</span><span class="o">*</span><span class="n">token_id</span><span class="p">).</span><span class="n">or_insert</span><span class="p">(</span><span class="mf">0.</span><span class="n">into</span><span class="p">());</span>
<span class="w">    </span><span class="o">*</span><span class="n">owner_balance</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">amount</span><span class="p">;</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">circulating_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">token_balance</span><span class="p">.</span><span class="n">entry</span><span class="p">(</span><span class="o">*</span><span class="n">token_id</span><span class="p">).</span><span class="n">or_insert</span><span class="p">(</span><span class="mf">0.</span><span class="n">into</span><span class="p">());</span>
<span class="w">    </span><span class="o">*</span><span class="n">circulating_supply</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">amount</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="contract-burn-function">
<h3>Contract burn function<a class="headerlink" href="#contract-burn-function" title="Link to this heading">#</a></h3>
<p>Based on the requirements, you should be able to call tokens. In order to do that, you’ll be adding the <code class="docutils literal notranslate"><span class="pre">contract</span> <span class="pre">burn()</span></code> function in the existing cis2-multi contract.</p>
<p>But first, you need another parameter to get the information about the tokens that will be burned. Create a struct, called <code class="docutils literal notranslate"><span class="pre">BurnParams</span></code>; you will need <code class="docutils literal notranslate"><span class="pre">token_id</span></code> and the amount to be burned.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[derive(Serial, Deserial, SchemaType)]</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">BurnParams</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">token_id</span><span class="p">:</span><span class="w"> </span><span class="nc">ContractTokenId</span><span class="p">,</span>
<span class="w">    </span><span class="n">amount</span><span class="p">:</span><span class="w"> </span><span class="nc">ContractTokenAmount</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When you get the parameters, ensure the token exists with the <code class="docutils literal notranslate"><span class="pre">ensure!</span></code> and <code class="docutils literal notranslate"><span class="pre">contains_token()</span></code> functions. Note that, when you call the <code class="docutils literal notranslate"><span class="pre">burn()</span></code> function, you need to emit the <code class="docutils literal notranslate"><span class="pre">BurnEvent</span></code>. For more details, see the <a class="reference external" href="https://proposals.concordium.software/CIS/cis-2.html">CIS-2</a> standard documentation.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[receive(</span>
<span class="cp">    contract = </span><span class="s">&quot;fungible-cis2&quot;</span><span class="cp">,</span>
<span class="cp">    name = </span><span class="s">&quot;burn&quot;</span><span class="cp">,</span>
<span class="cp">    parameter = </span><span class="s">&quot;BurnParams&quot;</span><span class="cp">,</span>
<span class="cp">    error = </span><span class="s">&quot;ContractError&quot;</span><span class="cp">,</span>
<span class="cp">    enable_logger,</span>
<span class="cp">    mutable</span>
<span class="cp">)]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">contract_burn</span><span class="p">(</span>
<span class="w">    </span><span class="n">ctx</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">ReceiveContext</span><span class="p">,</span>
<span class="w">    </span><span class="n">host</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">Host</span><span class="o">&lt;</span><span class="n">State</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="n">logger</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">Logger</span><span class="p">,</span>
<span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">ContractResult</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Get the contract owner</span>
<span class="w">    </span><span class="c1">// let owner = ctx.owner();</span>
<span class="w">    </span><span class="c1">// Get the sender of the transaction</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">sender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">sender</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Parse the parameter.</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">params</span><span class="p">:</span><span class="w"> </span><span class="nc">BurnParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">parameter_cursor</span><span class="p">().</span><span class="n">get</span><span class="p">()</span><span class="o">?</span><span class="p">;</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">token_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">token_id</span><span class="p">;</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">amount</span><span class="p">;</span>
<span class="w">    </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span>
<span class="w">            </span><span class="bp">self</span><span class="p">.</span><span class="n">contains_token</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">),</span>
<span class="w">            </span><span class="n">ContractError</span><span class="p">::</span><span class="n">InvalidTokenId</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="n">builder</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">host</span><span class="p">.</span><span class="n">state_and_builder</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// can use the value to store it in the state.</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">remaining_amount</span><span class="p">:</span><span class="w"> </span><span class="nc">ContractTokenAmount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">burn</span><span class="p">(</span><span class="o">&amp;</span><span class="n">token_id</span><span class="p">,</span><span class="w"> </span><span class="n">amount</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sender</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// log burn event</span>
<span class="w">    </span><span class="n">logger</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Cis2Event</span><span class="p">::</span><span class="n">Burn</span><span class="p">(</span><span class="n">BurnEvent</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">token_id</span><span class="p">,</span>
<span class="w">        </span><span class="n">amount</span><span class="p">,</span>
<span class="w">        </span><span class="n">owner</span><span class="p">:</span><span class="w"> </span><span class="nc">sender</span><span class="p">,</span>
<span class="w">    </span><span class="p">}))</span><span class="o">?</span><span class="p">;</span>
<span class="w">    </span><span class="nb">Ok</span><span class="p">(())</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now add the <code class="docutils literal notranslate"><span class="pre">burn()</span></code> implementation to the state functions as shown below. You will simply remove the amount for that particular token from the state but you need to take into account that the address that called this has a balance. As a control statement, in case someone wants to burn 0 tokens, check it and let them know burning nothing is successful by returning <code class="docutils literal notranslate"><span class="pre">Ok(amount)</span></code> where the amount equals zero.</p>
<p>Then get the balance of the owner using its address. Since you will change the balance you need to have a mutable state. With the match statement, you will iterate the addresses from the <code class="docutils literal notranslate"><span class="pre">address_state</span></code>, and when you find the matching one you will get the mutable balance. If it has enough balance to burn, you will subtract that amount from the mutable balance. Then state burn() function will return <code class="docutils literal notranslate"><span class="pre">ContractResult()</span></code> with the burned amount if it is successful; otherwise, it will prompt a <code class="docutils literal notranslate"><span class="pre">CustomContractError::NoBalanceToBurn</span></code>.</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span><span class="w"> </span><span class="nf">burn</span><span class="p">(</span>
<span class="w">    </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">,</span>
<span class="w">    </span><span class="n">token_id</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">ContractTokenId</span><span class="p">,</span>
<span class="w">    </span><span class="n">amount</span><span class="p">:</span><span class="w"> </span><span class="nc">ContractTokenAmount</span><span class="p">,</span>
<span class="w">    </span><span class="n">owner</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">Address</span><span class="p">,</span>
<span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">ContractResult</span><span class="o">&lt;</span><span class="n">ContractTokenAmount</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="k">u64</span><span class="p">.</span><span class="n">into</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">Ok</span><span class="p">(</span><span class="n">amount</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">match</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">state</span><span class="p">.</span><span class="n">get_mut</span><span class="p">(</span><span class="n">owner</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">Some</span><span class="p">(</span><span class="n">address_state</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">address_state</span><span class="p">.</span><span class="n">balances</span><span class="p">.</span><span class="n">get_mut</span><span class="p">(</span><span class="n">token_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nb">Some</span><span class="p">(</span><span class="k">mut</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">ensure</span><span class="o">!</span><span class="p">(</span>
<span class="w">                    </span><span class="o">*</span><span class="n">b</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">amount</span><span class="p">,</span>
<span class="w">                    </span><span class="n">Cis2Error</span><span class="p">::</span><span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span><span class="p">::</span><span class="n">NoBalanceToBurn</span><span class="p">)</span>
<span class="w">                </span><span class="p">);</span>

<span class="w">                </span><span class="o">*</span><span class="n">b</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">amount</span><span class="p">;</span>
<span class="w">                </span><span class="nb">Ok</span><span class="p">(</span><span class="o">*</span><span class="n">b</span><span class="p">)</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="nb">None</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nb">Err</span><span class="p">(</span><span class="n">Cis2Error</span><span class="p">::</span><span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span><span class="p">::</span><span class="n">NoBalanceToBurn</span><span class="p">)),</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nb">None</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nb">Err</span><span class="p">(</span><span class="n">Cis2Error</span><span class="p">::</span><span class="n">Custom</span><span class="p">(</span><span class="n">CustomContractError</span><span class="p">::</span><span class="n">NoBalanceToBurn</span><span class="p">)),</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="build-deploy-and-initialize">
<h2>Build, deploy, and initialize<a class="headerlink" href="#build-deploy-and-initialize" title="Link to this heading">#</a></h2>
<p>Now that you have finished coding your smart contract you can build, deploy, and initialize it. You will use the <code class="docutils literal notranslate"><span class="pre">concordium-client</span></code> to build it, then deploy it to the testnet, and finally, mint/transfer/burn your token.</p>
<p>First, create a metadata file. You will use it to pick an image for it, and naming and description. One thing that is important to note is the <strong>unique</strong> flag. Since this is not an NFT, you should set it to <strong>false</strong>. Then upload it to the IPFS and save the CID address. For information about how to do this, see <a class="reference internal" href="../nft-minting/upload-nft.html#upload-nft"><span class="std std-ref">Upload the NFT</span></a>. You will use it while minting the token.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{</span>
<span class="go">    &quot;name&quot;: &quot;YOUR-TOKEN-NAME&quot;,</span>
<span class="go">    &quot;unique&quot;: false,</span>
<span class="go">    &quot;description&quot;: &quot;YOUR-TOKEN-DESCRIPTION&quot;,</span>
<span class="go">    &quot;display&quot;: {</span>
<span class="go">        &quot;url&quot;: &quot;YOUR-IMAGE-PREVIEW-URL&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;attributes&quot;: []</span>
<span class="go">}</span>
</pre></div>
</div>
<section id="build-the-smart-contract">
<h3>Build the smart contract<a class="headerlink" href="#build-the-smart-contract" title="Link to this heading">#</a></h3>
<p>Run the command below to create a Wasm compiled build file of your smart contract. It is a good habit to create a folder for the output files. For example, here the user created a parent folder named <cite>dist</cite> and a child folder named <cite>fungible</cite> inside of it.</p>
<p>You can embed the schema file in the module, which means you don’t have to call it again and again for your future function calls. To build the contract and embed the schema file, use the command below.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cargo concordium build --schema-embed --out dist/embedded/module.wasm.v1</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/build-sc.png"><img alt="dark console screen with result of running the command above" src="../../_images/build-sc.png" style="width: 100%;" />
</a>
</section>
<section id="deploy-the-smart-contract">
<h3>Deploy the smart contract<a class="headerlink" href="#deploy-the-smart-contract" title="Link to this heading">#</a></h3>
<p>If you don’t have your own testnet node running, Concordium provides a running testnet gRPC node that is available at <code class="docutils literal notranslate"><span class="pre">node.testnet.concordium.com</span></code> on port 20000 (gRPCv2 and gRPC-web). You can use this node for API calls of <em>chain methods only</em>. This node is maintained by Concordium, but Concordium does not guarantee availability. The status of this node is available on the <a class="reference external" href="https://status.testnet.concordium.software">Testnet status page</a>. For some use cases you might need to run your own local node due to the limitations of this one.</p>
<p>Run the command below to deploy the smart contract. This command is structured to use the Concordium testnet node described above. If you are using your own local node, adjust the command accordingly.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">concordium-client module deploy dist/fungible/module.wasm.v1 --sender &lt;YOUR-ACCOUNT&gt; --name &lt;YOUR-CONTRACT-NAME&gt; --grpc-port 20000 --grpc-ip node.testnet.concordium.com</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/deploy-sc.png"><img alt="dark console screen with result of running the command above" src="../../_images/deploy-sc.png" style="width: 100%;" />
</a>
</section>
<section id="initialize-the-smart-contract">
<h3>Initialize the smart contract<a class="headerlink" href="#initialize-the-smart-contract" title="Link to this heading">#</a></h3>
<p>Using the Module reference hash value, create a contract instance with the command below. This command is structured to use the Concordium testnet node described above. If you are using your own local node, adjust the command accordingly.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">concordium-client contract init &lt;MODULE-HASH&gt; --sender &lt;YOUR-ACCOUNT&gt; --energy 30000 --contract &lt;YOUR-CONTRACT-NAME&gt; --grpc-port 20000 --grpc-ip node.testnet.concordium.com</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/initialize-sc.png"><img alt="dark console screen with result of running the command above" src="../../_images/initialize-sc.png" style="width: 100%;" />
</a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><a class="reference internal" href="mint-xfer.html#mint-xfer-ft"><span class="std std-ref">Click here</span></a> to continue to the second part of the tutorial.</p>
</section>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  <div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><style>
  legend {
    font-size: 12px;
    font-weight:bold ;
  }

  label {
    font-size: 12px;
  }
</style>

<fieldset>
  <legend>Was this article helpful?</legend>
  <input type="radio" id="Yes" name="rating" value="Yes" onclick="_paq.push(['trackEvent', 'Rating', 'ClickYes', 'Yes']);">
  <label for="Yes">Yes</label>
  <input type="radio" id="No" name="rating" value="No" onclick="_paq.push(['trackEvent', 'Rating', 'ClickNo', 'No']);">
  <label for="No">No</label>
</fieldset>

<!-- Matomo Tag Manager -->
<script>
  var _mtm = window._mtm = window._mtm || [];
  _mtm.push({'mtm.startTime': (new Date().getTime()), 'event': 'mtm.Start'});
  (function() {
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src='https://cdn.matomo.cloud/concordium.matomo.cloud/container_8ZIoCz8b.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Tag Manager --></div>
  
</div>
                </footer>
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Mint fungible tokens</p>
      </div>
    </a>
    <a class="right-next"
       href="mint-xfer.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Mint, transfer, and burn fungible tokens</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minting">Minting</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mint-function">Mint function</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contract-mint-function">Contract mint function</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#state-mint-function">State mint function</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contract-burn-function">Contract burn function</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#build-deploy-and-initialize">Build, deploy, and initialize</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#build-the-smart-contract">Build the smart contract</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deploy-the-smart-contract">Deploy the smart contract</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#initialize-the-smart-contract">Initialize the smart contract</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/Concordium/concordium.github.io/edit/main/source/mainnet/tutorials/fungible-tokens/smart-contract.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  

  <p class="copyright">
    
      © Copyright 2021 - 2025, Concordium Software ApS.
      <br/>
    
  </p>

  <style>
    .cc {
      position: relative;
      bottom: 0%;
      left: 0%;
    }

    .cc a {
      display: inline-block;
      text-align: left;
      padding-left: 16px;
      padding-bottom: 8px;
      color: black;
      font-size: 8px;
    }
</style>

<div class="cc">
  <a text-decoration=none href="http://creativecommons.org/licenses/by-sa/4.0/">
    <img src="../../_static/cc-sa-by.png" />
  </a>
  <a text-decoration=none href="../../net/guides/legal.html" >
    Legal information
  </a>
</div>
  <div id="cookie-consent" class="consent">
    <p>This website only aggregates and analyzes the actions you take here if you allow cookies. If you do not allow cookies, it protects your privacy, but also prevents the owner from learning from your actions and creating a better experience for you and other users.</p><p>Note that if you opt in and you clear your cookies, delete the opt-in cookie, or if you change computers or Web browsers, you will need to perform the opt-in procedure again.</p>
    <button onclick="consentGranted()">Allow</button>
    <button onclick="consentDenied()">Decline</button>
    <a href="https://concordium.com/privacy-policy/">Privacy policy</a>
</div>

<!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];

// Save the choice in a cookie
function storeChoice(granted) {
  document.cookie = "cookie-consent=" + granted
}

// Look for a cookie storing the previous choice of the user.
// Returns undefined if no choice was stored, otherwise a boolean for whether the
// user gave consent.
function loadChoice() {
  if (!document.cookie.includes("cookie-consent=")) {
      return undefined;
  }
  return document.cookie.includes("cookie-consent=true")
}

// Removes the cookie consent banner
function removeCookieConsentBanner() {
  document.getElementById("cookie-consent").remove()
}

// Called by the cookie consent banner if granted permission
function consentGranted() {
  storeChoice(true)
  _paq.push(['setCookieConsentGiven']);
  removeCookieConsentBanner()
}

// Called by the cookie consent banner if denied permission
function consentDenied() {
  storeChoice(true)
  removeCookieConsentBanner()
}

const stored = loadChoice();
if (stored) {
 consentGranted()
}

_paq.push(['requireCookieConsent']);
/* tracker methods like "setCustomDimension" should be called before "trackPageView" */
_paq.push(['trackPageView']);
_paq.push(['enableLinkTracking']);

(function() {
    var u="https://concordium.matomo.cloud/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '2']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src='//cdn.matomo.cloud/concordium.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
  })();

  // remember tracking consent was given for all subsequent page views and visits
_paq.push(['rememberCookieConsentGiven']);

</script>


<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/4771748.js"></script>
<!-- End of HubSpot Embed Code -->

  </body>
</html>