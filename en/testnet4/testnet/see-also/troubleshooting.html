



<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Troubleshooting and known issues &mdash; Concordium  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/concordium-logo-no-text.svg"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Glossary of Concordium Terms" href="glossary.html" />
    <link rel="prev" title="Downloads" href="downloads.html" />
<link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: black" >
          


          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/concordium-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
<nav class="sidebar-top-menu">
    <a href="../index.html" class="active" ><i class="icon fa fa-connectdevelop"></i> Testnet</a>
    <a href="../../smart-contracts/index.html" class=""> <i class="icon fa fa-file-o"></i> Smart Contracts </a>
</nav>

        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guides/get-the-app.html">Concordium ID: Install the app</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/get-started.html">Concordium ID: Get started with the app</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/accounts-transactions.html">Concordium ID: Get started with accounts and transactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/explore-more.html">Concordium ID: Explore the <em>More</em> page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/run-node.html">Run a Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/become-baker.html">Become a baker (create blocks)</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../references/concordium-client.html">Concordium Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/id-accounts.html">Identities and accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/manage-accounts.html">Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/transactions.html">Transactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/query-node.html">Querying a node</a></li>
</ul>
<p class="caption"><span class="caption-text">See Also</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="downloads.html">Downloads</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Troubleshooting and known issues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#multiple-nodes-bakers-and-accounts">Multiple nodes, bakers, and accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#appearance-of-high-memory-consumption-of-the-node">Appearance of high memory consumption of the node</a></li>
<li class="toctree-l2"><a class="reference internal" href="#node-does-not-catch-up-with-chain-on-windows">Node does not catch up with chain on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="#node-on-windows-fails-to-bootstrap-with-docker-desktop-3-1-0">Node on Windows fails to bootstrap with Docker Desktop 3.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docker-error-port-already-in-use">Docker error port already in use</a></li>
<li class="toctree-l2"><a class="reference internal" href="#special-language-characters-in-the-windows-client">Special language characters in the Windows client</a></li>
<li class="toctree-l2"><a class="reference internal" href="#supported-id-document-types-and-countries">Supported ID document types and countries</a></li>
<li class="toctree-l2"><a class="reference internal" href="#inconsistency-with-numbers-on-id-documents">Inconsistency with numbers on ID documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="#performance-issues-in-mobile-wallet-on-android-phones">Performance issues in mobile wallet on Android phones</a></li>
<li class="toctree-l2"><a class="reference internal" href="#robustness-issues-with-shielded-transfer-in-mobile-wallets">Robustness issues with shielded transfer in mobile wallets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#support-feedback">Support &amp; Feedback</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary of Concordium Terms</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="third-party-licenses.html">Third Party Licenses</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Concordium</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Testnet</a> &raquo;</li>
        
      <li>Troubleshooting and known issues</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/Concordium/concordium.github.io/blob/testnet4/source/testnet/see-also/troubleshooting.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="troubleshooting-and-known-issues">
<span id="id1"></span><h1>Troubleshooting and known issues<a class="headerlink" href="#troubleshooting-and-known-issues" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#multiple-nodes-bakers-and-accounts" id="id2">Multiple nodes, bakers, and accounts</a></p></li>
<li><p><a class="reference internal" href="#appearance-of-high-memory-consumption-of-the-node" id="id3">Appearance of high memory consumption of the node</a></p></li>
<li><p><a class="reference internal" href="#node-does-not-catch-up-with-chain-on-windows" id="id4">Node does not catch up with chain on Windows</a></p></li>
<li><p><a class="reference internal" href="#node-on-windows-fails-to-bootstrap-with-docker-desktop-3-1-0" id="id5">Node on Windows fails to bootstrap with Docker Desktop 3.1.0</a></p></li>
<li><p><a class="reference internal" href="#docker-error-port-already-in-use" id="id6">Docker error port already in use</a></p></li>
<li><p><a class="reference internal" href="#special-language-characters-in-the-windows-client" id="id7">Special language characters in the Windows client</a></p></li>
<li><p><a class="reference internal" href="#supported-id-document-types-and-countries" id="id8">Supported ID document types and countries</a></p></li>
<li><p><a class="reference internal" href="#inconsistency-with-numbers-on-id-documents" id="id9">Inconsistency with numbers on ID documents</a></p></li>
<li><p><a class="reference internal" href="#performance-issues-in-mobile-wallet-on-android-phones" id="id10">Performance issues in mobile wallet on Android phones</a></p></li>
<li><p><a class="reference internal" href="#robustness-issues-with-shielded-transfer-in-mobile-wallets" id="id11">Robustness issues with shielded transfer in mobile wallets</a></p></li>
<li><p><a class="reference internal" href="#support-feedback" id="id12">Support &amp; Feedback</a></p></li>
</ul>
</div>
<p>If you cannot find your issue here, please email <a class="reference external" href="mailto:testnet&#37;&#52;&#48;concordium&#46;com">testnet<span>&#64;</span>concordium<span>&#46;</span>com</a>,
including logs from the <code class="docutils literal notranslate"><span class="pre">concordium-node-retrieve-logs</span></code> tool.</p>
<div class="section" id="multiple-nodes-bakers-and-accounts">
<h2>Multiple nodes, bakers, and accounts<a class="headerlink" href="#multiple-nodes-bakers-and-accounts" title="Permalink to this headline">¶</a></h2>
<p>We do not currently support running two nodes on the same machine. When the
<code class="docutils literal notranslate"><span class="pre">concordium-node</span></code> tool is run, while another node is already running, it will ask you
if you want to stop the currently running node and start a new one.</p>
<p>A node can only run as one baker. A baker is by definition a member of the
committee. The current committee can be obtained by querying the node via</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>concordium-client consensus show-parameters --include-bakers
</pre></div>
</div>
<p>A node can run as a baker or not, depending on how it is started, and whether the keys it
starts with are registered in the committee.</p>
<p>Which baker the node runs as is determined by the baker keys that it starts with
(these are in the file <code class="docutils literal notranslate"><span class="pre">baker-credentials.json</span></code>). If a node is restarted it
reloads the keys that exist at the time it starts.</p>
</div>
<div class="section" id="appearance-of-high-memory-consumption-of-the-node">
<h2>Appearance of high memory consumption of the node<a class="headerlink" href="#appearance-of-high-memory-consumption-of-the-node" title="Permalink to this headline">¶</a></h2>
<p>The Concordium node may appear to use a lot of memory, and its memory
consumption may grow over time. This happens because the node internally uses
the LMDB database for block and transaction storage. LMDB manages the database
as a single memory-mapped file which can cause certain tools to erroneously
include the whole or parts of the database file into the reported memory
consumption of the process.</p>
</div>
<div class="section" id="node-does-not-catch-up-with-chain-on-windows">
<h2>Node does not catch up with chain on Windows<a class="headerlink" href="#node-does-not-catch-up-with-chain-on-windows" title="Permalink to this headline">¶</a></h2>
<p>On Windows, the Concordium node may fail to catch up with the chain when
changing internet connections. It usually catches up with the chain again after
few minutes. Otherwise, stop and restart the node.</p>
<p>Failure to catch-up on Windows might also occur, if the time in the docker
virtual machine is out of sync. This can happen as a result of the machine
entering sleep (even if the node is not running at the time). The following may
be indications that this has occurred:</p>
<ul class="simple">
<li><p>Errors in the log such as
<code class="docutils literal notranslate"><span class="pre">ERROR:</span> <span class="pre">External:</span> <span class="pre">Error</span> <span class="pre">importing</span> <span class="pre">block:</span> <span class="pre">ResultEarlyBlock</span></code> (or any
other error involving <code class="docutils literal notranslate"><span class="pre">ResultEarlyBlock</span></code>).</p></li>
<li><p>Timestamps of messages in the log do not match the system time.
(Note, the log timestamps are given in the UTC timezone; you may need
to add or subtract a few hours to convert to your local time.)</p></li>
</ul>
<p>To fix this, shutdown the node, restart your computer (or just restart Docker
Desktop), and then restart the node.</p>
<p>If the problem persists, it could be that the system time is set incorrectly.
(This is especially likely if you observe negative times on the Concordium
Network Dashboard.) To fix this, open <em>Date &amp; time settings</em> and select <em>Sync
now</em> under <em>Synchronize your clock</em>. You may have to restart the node as
described above after synchronizing your clock.</p>
<p>(Note: it may be possible to resynchronize the virtual machine’s clock without
having to restart it. This can be done by stopping and restarting the <em>Time
synchronization</em> integration service for the docker virtual machine using
<em>Hyper-V Manager</em>.)</p>
</div>
<div class="section" id="node-on-windows-fails-to-bootstrap-with-docker-desktop-3-1-0">
<h2>Node on Windows fails to bootstrap with Docker Desktop 3.1.0<a class="headerlink" href="#node-on-windows-fails-to-bootstrap-with-docker-desktop-3-1-0" title="Permalink to this headline">¶</a></h2>
<p>When running your node on Windows, it might fail to bootstrap. In that case, it will not get any peers and does not catch up to the chain or at least not to the full fin length. You can check both e.g. on the network dashboard. Furthermore, the log will show the following entries:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ERROR: Can&#39;t connect to the desired address</span>
<span class="go">INFO: Attempting to bootstrap</span>
<span class="go">INFO: No peers at all - retrying bootstrapping</span>
</pre></div>
</div>
<p>The issue only occurs with the latest Docker Desktop version 3.1.0. The node works fine with when running with earlier Docker versions. However, since Docker from version 3.0.0 and upwards automatically updates to the latest version when restarting, we strongly recommend to install Docker Desktop 2.5.0.1, which comes with Docker Engine version 19.03.13.</p>
<ul class="simple">
<li><p>To check, which Docker Desktop version you have installed, right-click the Docker Desktop system tray icon (i.e. the whale carrying a stack of containers) and choose “About Docker Desktop”. It should say 2.5.0.1 (or lower).</p></li>
<li><p>To check, which Docker Engine version you have installed, run <cite>docker version</cite> in your terminal. It should say Version: 19.03.13 (or lower).</p></li>
</ul>
<p>We suggest the following workaround:</p>
<ul class="simple">
<li><p>Run <cite>concordium-node-stop</cite>.</p></li>
<li><p>Run <cite>concordium-node-reset-data</cite> (optional).</p></li>
<li><p>Uninstall your current Docker software.</p></li>
<li><p>Download <a class="reference external" href="https://docs.docker.com/docker-for-windows/release-notes/#docker-desktop-community-2501">Docker Desktop version 2.5.0.1</a></p></li>
<li><p>Install Docker Desktop version 2.5.0.1.</p></li>
<li><p>When the installation is completed, make sure Docker is running.</p></li>
<li><p>Whenever you are prompted that a new Docker Desktop is available, chose “Skip This Build” or “Remind me later”. Never click “Install Update”.</p></li>
<li><p>Run <cite>concordium-node</cite>.</p></li>
</ul>
<p>Your node should now catch up to the full fin length and eventually get peers assigned. Whenever you restart your node, remember to not update to the newest version.</p>
</div>
<div class="section" id="docker-error-port-already-in-use">
<h2>Docker error port already in use<a class="headerlink" href="#docker-error-port-already-in-use" title="Permalink to this headline">¶</a></h2>
<p>The node may fail starting with the error <code class="docutils literal notranslate"><span class="pre">Error</span> <span class="pre">starting</span> <span class="pre">{..}</span> <span class="pre">proxy:</span> <span class="pre">listen</span>
<span class="pre">tcp</span> <span class="pre">0.0.0.0:{PORT}:</span> <span class="pre">bind:</span> <span class="pre">address</span> <span class="pre">already</span> <span class="pre">in</span> <span class="pre">use</span></code>, which can be remedied by
using a different <code class="docutils literal notranslate"><span class="pre">{PORT}</span></code> than the default used by the node.</p>
<p>The ports used by the node are as follows:</p>
<ul class="simple">
<li><p>8888, the port for P2P networking, which can be set with
<code class="docutils literal notranslate"><span class="pre">--listen-node-port</span></code></p></li>
<li><p>10000, the gRPC port, which can be set with <code class="docutils literal notranslate"><span class="pre">--listen-grpc-port</span></code></p></li>
</ul>
<p>When changing the mappings above the docker container must be stopped, reset,
and started again. To reset the container either use <code class="docutils literal notranslate"><span class="pre">concordiumn-node-reset-data</span></code> or run the following in a terminal</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>docker rm concordium-client
</pre></div>
</div>
</div>
<div class="section" id="special-language-characters-in-the-windows-client">
<h2>Special language characters in the Windows client<a class="headerlink" href="#special-language-characters-in-the-windows-client" title="Permalink to this headline">¶</a></h2>
<p>Depending on the code page of the Windows machine, the <code class="docutils literal notranslate"><span class="pre">concordium-client</span></code> might not print all special language characters in account names correctly. Instead it replaces unknown characters with a question mark. In such a case, you can either use the account address for client commands instead of the incomplete name, check the name mapping file or change the code page of the terminal to utf-8 by running <code class="docutils literal notranslate"><span class="pre">chcp</span> <span class="pre">65001</span></code>.</p>
</div>
<div class="section" id="supported-id-document-types-and-countries">
<h2>Supported ID document types and countries<a class="headerlink" href="#supported-id-document-types-and-countries" title="Permalink to this headline">¶</a></h2>
<p>For issuing a real-world identity in the mobile wallet <code class="docutils literal notranslate"><span class="pre">Concordium</span> <span class="pre">ID</span></code>, i.e.
an identity based on a physical ID document, 3rd parties identity issuer
Notabene and identity verifier Onfido are invoked. For a list of supported ID
document types and countries, please visit <a class="reference external" href="http://onfido.com/supported-documents">supported ID documents</a>.</p>
<p>The previously described identity issuing option can be selected in the process
of creating a new identity using <code class="docutils literal notranslate"><span class="pre">Notabene</span></code> on the New Identity Verification
screen. Note that with option <code class="docutils literal notranslate"><span class="pre">Notabene</span> <span class="pre">development</span></code> test identities can be
issued, which are not verified against physical ID documents.</p>
</div>
<div class="section" id="inconsistency-with-numbers-on-id-documents">
<h2>Inconsistency with numbers on ID documents<a class="headerlink" href="#inconsistency-with-numbers-on-id-documents" title="Permalink to this headline">¶</a></h2>
<p>When issuing an identity in the mobile wallet <code class="docutils literal notranslate"><span class="pre">Concordium</span> <span class="pre">ID</span></code> with identity provider <code class="docutils literal notranslate"><span class="pre">Notabene</span></code>, which is based on a Danish ID document, the personal identity number might be included as document number in the issued identity instead of the actual ID document number. Danish ID documents (e.g. passport or driver’s license) have a document number field and a personal code number field for the CPR number. The number from the document number field should be included as document number in the issued identity. Inconsistencies may be observed where the CPR number is used instead. The issue is reported to identity provider Notabene.</p>
</div>
<div class="section" id="performance-issues-in-mobile-wallet-on-android-phones">
<h2>Performance issues in mobile wallet on Android phones<a class="headerlink" href="#performance-issues-in-mobile-wallet-on-android-phones" title="Permalink to this headline">¶</a></h2>
<p>Performance issues, e.g. long processing times, might occur when running the
mobile wallet <code class="docutils literal notranslate"><span class="pre">Concordium</span> <span class="pre">ID</span></code> on a low end Android phone. Processing delays
might not be indicated by appropriate waiting screens.</p>
</div>
<div class="section" id="robustness-issues-with-shielded-transfer-in-mobile-wallets">
<h2>Robustness issues with shielded transfer in mobile wallets<a class="headerlink" href="#robustness-issues-with-shielded-transfer-in-mobile-wallets" title="Permalink to this headline">¶</a></h2>
<p>When executing multiple shielded transfers or unshielding flows in the mobile
wallets within a very short period of time, inconsistencies might be observed.
Those robustness issues can be circumvented by waiting a few seconds between
such transactions.</p>
</div>
<div class="section" id="support-feedback">
<h2>Support &amp; Feedback<a class="headerlink" href="#support-feedback" title="Permalink to this headline">¶</a></h2>
<p>If you run into any issues or have suggestions, post your question or feedback
on <a class="reference external" href="https://discord.gg/xWmQ5tp">Discord</a> or contact us at <a class="reference external" href="mailto:testnet&#37;&#52;&#48;concordium&#46;com">testnet<span>&#64;</span>concordium<span>&#46;</span>com</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="glossary.html" class="btn btn-neutral float-right" title="Glossary of Concordium Terms" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="downloads.html" class="btn btn-neutral float-left" title="Downloads" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
<a href="http://creativecommons.org/licenses/by-sa/4.0/">
    <img style="margin-bottom: 0.5em" src="../../_static/cc-sa-by.png" />
</a>

    <p>
        &#169; Copyright 2020, Concordium.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: testnet4
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      <dd><a href="/en/testnet4/">testnet4</a></dd>
    </dl>
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>