



<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Transactions &mdash; Concordium  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/concordium-logo-no-text.svg"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Querying a node" href="query-node.html" />
    <link rel="prev" title="Accounts" href="manage-accounts.html" />
<link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980b9" >
          


          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/concordium-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
<nav class="sidebar-top-menu">
    <a href="../index.html" class="active" ><i class="icon fa fa-connectdevelop"></i> Testnet</a>
    <a href="../../smart-contracts/index.html" class=""> <i class="icon fa fa-file-o"></i> Smart Contracts </a>
</nav>

        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/downloads.html">Downloads</a></li>
</ul>
<p class="caption"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guides/run-node-ubuntu.html">Run a node on a server with Ubuntu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/run-node.html">Run a node with Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/deciding-wallet.html">Deciding between the Desktop Wallet and the Mobile Wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/overview-desktop.html">Overview of setting up the Desktop Wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/multisig-transfer.html">Create a scheduled multi-signature GTU transfer in the Desktop Wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/overview-baker-process.html">Overview of the baker process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/add-baker-desktop.html">Add a baker account in the Desktop Wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/become-baker.html">Become a baker using the Concordium Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/multi-credentials.html">Add credentials to an account</a></li>
</ul>
<p class="caption"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/id-accounts.html">Identities and accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/concepts-baker.html">Bakers</a></li>
</ul>
<p class="caption"><span class="caption-text">Concordium Mobile Wallet</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mobile-wallet/get-started.html">Get started with the Mobile Wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile-wallet/accounts-transactions.html">Get started with accounts and transactions in the Mobile Wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile-wallet/explore-more.html">Explore the <em>More</em> page in the Mobile Wallet</a></li>
</ul>
<p class="caption"><span class="caption-text">Concordium Desktop Wallet</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/install-ledger-app.html">Set up the Ledger Nano S and install the Concordium Ledger App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/get-started-desktop.html">Set up the Desktop Wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/create-identity-desktop.html">Create an identity and an initial account in the Desktop Wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/create-account-desktop.html">Create an account in the  Desktop Wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/accounts-desktop.html">Overview of accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/shield-gtu-desktop.html">Shield GTU on an account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/export-import-desktop.html">Make a backup of identities, accounts, and addresses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/send-gtu-single-desktop.html">Create a single signer GTU transfer in the Desktop Wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/single-sign-schedule.html">Create a single signer GTU transfer with a schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/multisig-simple-transfer.html">Create a multi-signature GTU transfer in the Desktop Wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/update-baker-keys.html">Update baker keys in the Desktop Wallet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/remove-baker.html">Remove a baker account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/change-baker-stake.html">Update the staked amount</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/change-restake-settings.html">Update the restake settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/sign-transaction.html">Sign a transaction proposal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/settings-overview.html">Desktop Wallet settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/overview-addresses.html">Address book overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../desktop-wallet/proposed-transactions.html">View transaction proposals</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="concordium-client.html">Concordium Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="manage-accounts.html">Accounts</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Transactions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#mobile-wallet">Mobile Wallet</a></li>
<li class="toctree-l2"><a class="reference internal" href="#command-line-tool">Command-line tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="#support-feedback">Support &amp; Feedback</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="query-node.html">Querying a node</a></li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../resources/glossary.html">Glossary of Concordium Terms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/third-party-licenses.html">Third Party Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/dw-licenses.html">Concordium Desktop Wallet Third Party Licenses</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Concordium</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Testnet</a> &raquo;</li>
        
      <li>Transactions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/Concordium/concordium.github.io/blob/testnet/source/net/references/transactions.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="transactions">
<span id="id1"></span><h1>Transactions<a class="headerlink" href="#transactions" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#mobile-wallet" id="id2">Mobile Wallet</a></p></li>
<li><p><a class="reference internal" href="#command-line-tool" id="id3">Command-line tool</a></p>
<ul>
<li><p><a class="reference internal" href="#transfer" id="id4">Transfer</a></p>
<ul>
<li><p><a class="reference internal" href="#example-transferring-25-gtu-from-one-account-to-another" id="id5">Example: Transferring 25 GTU from one account to another</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#encrypted-transfer" id="id6">Encrypted transfer</a></p></li>
<li><p><a class="reference internal" href="#shield-an-amount" id="id7">Shield an amount</a></p></li>
<li><p><a class="reference internal" href="#unshield-an-amount" id="id8">Unshield an amount</a></p></li>
<li><p><a class="reference internal" href="#transfer-with-schedule" id="id9">Transfer with schedule</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#support-feedback" id="id10">Support &amp; Feedback</a></p></li>
</ul>
</div>
<p>A <em>transaction</em> is an operation which applies some change to the chain.
Transactions always have one sender <a class="reference internal" href="../resources/glossary.html#glossary-account"><span class="std std-ref">account</span></a> and are signed using the keys of
this account.</p>
<p>There are several transaction types: The most basic one is a GTU transfer, which
moves tokens from the sender account to another account. Other transaction types
include encrypted transfers, <a class="reference internal" href="../guides/become-baker.html#become-a-baker"><span class="std std-ref">adding a baker</span></a>, and updating keys of accounts
and bakers.</p>
<p>Every transaction has a well-defined <em>cost</em>, the value of which depends on the
transaction type as well as the payload in a way that reflects the computational
effort of applying the transaction as closely as possible. When the transaction
is submitted, its cost is deducted from the sender’s account and paid to the
network as a fee for carrying out the transaction. Cost is measured in the unit
NRG which corresponds to GTU according to a variable conversion factor
(currently 1 NRG = 0.0001 GTU). Read more about conversions between GTU, NRG, and Euros in <a class="reference internal" href="query-node.html#exchange-rates"><span class="std std-ref">Exchange rates</span></a>.</p>
<p>Once a baker receives a transaction from some client, it performs a few basic
checks to verify that the transaction is eligible for <em>inclusion</em> in a <a class="reference internal" href="../resources/glossary.html#glossary-block"><span class="std std-ref">block</span></a>.
If any of these checks fail, the transaction is ignored. Included transactions
which satisfy all further requirements are considered <em>successful</em> and have
their changes applied to the chain. If something doesn’t check out (for
instance, the sender attempted to overdraw their account), the transaction is
still included, but recorded as <em>rejected</em>. A rejected transaction has no effect
other than deducting its cost from the sender.</p>
<p>Each account has a <a class="reference internal" href="../resources/glossary.html#glossary-transaction-sequence-number"><span class="std std-ref">sequence number</span></a> associated with it. This number increases
sequentially with each transaction sent from this account and is recorded into
the transaction. Transactions with sequence numbers that don’t match the current
one of the account are not considered eligible for inclusion on the chain. This
ensures that transactions are included only once and in a specific order.</p>
<p>Until some block containing a given transaction is <a class="reference internal" href="../resources/glossary.html#glossary-finalization"><span class="std std-ref">finalized</span></a>, there is no
guarantee that the transaction is permanent.</p>
<p>Transfers (both plain and encrypted) can be performed using the Mobile Wallet.
mobile app, or the <a class="reference internal" href="concordium-client.html#concordium-client"><span class="std std-ref">concordium-client</span></a> tool. All other transaction types
can only be done through <code class="docutils literal notranslate"><span class="pre">concordium-client</span></code>.</p>
<div class="section" id="mobile-wallet">
<h2>Mobile Wallet<a class="headerlink" href="#mobile-wallet" title="Permalink to this headline">¶</a></h2>
<p>Once you create <a class="reference internal" href="../concepts/id-accounts.html#reference-id-accounts"><span class="std std-ref">an account</span></a> in the <a class="reference internal" href="../mobile-wallet/accounts-transactions.html#guide-account-transactions"><span class="std std-ref">wallet</span></a>, the <strong>SEND</strong> button brings you
to the screen for doing transfers from the given account. Depending on whether
you are in the public or shielded balance part of the account the transfer will
be a plain transfer, or an encrypted transfer.</p>
</div>
<div class="section" id="command-line-tool">
<h2>Command-line tool<a class="headerlink" href="#command-line-tool" title="Permalink to this headline">¶</a></h2>
<p>All types of transactions can be performed using <a class="reference internal" href="concordium-client.html#concordium-client"><span class="std std-ref">concordium-client</span></a>. The
different transaction types are performed using specialized subcommands:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 46%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">transaction</span> <span class="pre">send-gtu</span></code></p></td>
<td><p>Transfer GTU tokens</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">transaction</span>
<span class="pre">send-gtu-encrypted</span></code></p></td>
<td><p>Transfer GTU tokens between shielded
balances</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">transaction</span>
<span class="pre">send-gtu-scheduled</span></code></p></td>
<td><p>Make a transfer that will be
released gradually</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">baker</span> <span class="pre">add</span></code></p></td>
<td><p>Add a new baker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">baker</span> <span class="pre">remove</span></code></p></td>
<td><p>Remove a baker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">baker</span> <span class="pre">update-stake</span></code></p></td>
<td><p>Update the staked amount of a baker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">baker</span> <span class="pre">update-restake</span></code></p></td>
<td><p>Update the restaking switch of a
baker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">baker</span> <span class="pre">set-key</span></code></p></td>
<td><p>Update the keys of a baker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account</span> <span class="pre">update-keys</span></code></p></td>
<td><p>Update credentials keys for a
specific credential</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">account</span> <span class="pre">encrypt</span></code></p></td>
<td><p>Transfer part of the public balance
to shielded balance</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">account</span> <span class="pre">decrypt</span></code></p></td>
<td><p>Transfer part of the shielded
balance to public balance</p></td>
</tr>
</tbody>
</table>
<p>Each of these commands have a number of parameters specific to them, but share a
common set of flags and configuration to control how they build transactions.
Depending on the exact context, the flags are currently all optional:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--sender</span></code>: Name or address of the transaction’s sender account.
The name is the one used when <a class="reference internal" href="manage-accounts.html#managing-accounts"><span class="std std-ref">importing the account</span></a> (assuming that this
was done). Defaults to the account name “default”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--keys</span></code>: A number of sign/verify key-pairs associated with the
account, used to sign the transaction. The format is shown in the example
below. Should be omitted if the account has been imported.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--expiration</span></code>: Expiration time of the transaction given as a Unix
epoch or duration string (e.g. <code class="docutils literal notranslate"><span class="pre">5m</span></code> for 5 minutes). Defaults to <code class="docutils literal notranslate"><span class="pre">10m</span></code> (10
minutes).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--energy</span></code>: Maximum amount of NRG to be spent on the transaction.
With the currently supported transaction types, the default value is always
the exact amount of energy needed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--nonce</span></code> : Sequence number to use for the transaction. This is
fetched automatically and should only be specified in special cases.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--signers</span></code> : Specification of which credential holders of the sender account that should sign the transaction, and which of their keys that should be used to sign. Example: <code class="docutils literal notranslate"><span class="pre">--signers</span> <span class="pre">0:1,0:2,3:0,3:1</span></code> specifies that credential holder 0 signs with keys 1 and 2, while credential holder
3 signs with keys 0 and 1. If the sender account is imported to the client, and <code class="docutils literal notranslate"><span class="pre">--signers</span></code> is not provided,
<code class="docutils literal notranslate"><span class="pre">concordium-client</span></code> will sign with all keys in the local configuration of the account.</p></li>
</ul>
<p>In most cases, it should be sufficient to provide only the <code class="docutils literal notranslate"><span class="pre">--sender</span></code> option
and use the account by name.</p>
<p>In all cases, the command will display the exact parameters of the transaction
before sending it, and ask the user to confirm that it matches their intent.
Just before the transaction is sent the user is asked for the password to access
the signing keys.</p>
<p>Once a transaction has been submitted, the command will continuously poll and
display its status until it’s been <a class="reference internal" href="../resources/glossary.html#glossary-finalization"><span class="std std-ref">finalized</span></a>.</p>
<p>The commands for transferring GTU (both plain transfers and encrypted transfers)
are described below.</p>
<p>The remaining commands are used to add, remove, and configure bakers. Their
behavior is explained on the guide for <a class="reference internal" href="../guides/become-baker.html#become-a-baker"><span class="std std-ref">becoming a baker</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about a command, invoke it with the <code class="docutils literal notranslate"><span class="pre">--help</span></code> flag.</p>
</div>
<div class="section" id="transfer">
<h3>Transfer<a class="headerlink" href="#transfer" title="Permalink to this headline">¶</a></h3>
<p>A transfer is done using the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>concordium-client transaction send-gtu
</pre></div>
</div>
<p>Apart from the generic transaction flags above, the parameters are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--amount</span></code>: Number of GTU tokens to send.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--receiver</span></code>: Name or address of the receiver account.</p></li>
</ul>
<div class="section" id="example-transferring-25-gtu-from-one-account-to-another">
<h4>Example: Transferring 25 GTU from one account to another<a class="headerlink" href="#example-transferring-25-gtu-from-one-account-to-another" title="Permalink to this headline">¶</a></h4>
<p>Accounts:</p>
<ul class="simple">
<li><p>A: <code class="docutils literal notranslate"><span class="pre">4DY7Kq5vXsNDhEAnj969Fd86g9egi1Htq3YmL2qAU9cXWj2a1y</span></code></p></li>
<li><p>B: <code class="docutils literal notranslate"><span class="pre">3EmnjMy8AY5zoebNaA3HuVx1UShdW8vh9n1YjJztmSc2jN4K3V</span></code></p></li>
</ul>
<p>If the accounts have both been imported under these names, the command
to transfer 25 GTU is:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>concordium-client transaction send-gtu --amount <span class="m">25</span> --sender A --receiver B
</pre></div>
</div>
<p>The output will look similar to the following (in the example we assume that the
sender account A has three transaction signing keys 0, 1, 3).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Sending 25.000000 GTU from &#39;4DY7Kq5vXsNDhEAnj969Fd86g9egi1Htq3YmL2qAU9cXWj2a1y&#39; (A) to &#39;3EmnjMy8AY5zoebNaA3HuVx1UShdW8vh9n1YjJztmSc2jN4K3V&#39; (B).</span>
<span class="go">Allowing up to 165 NRG to be spent as transaction fee.</span>
<span class="go">Transaction expires at Sun,  4 Oct 2020 11:13:55 UTC.</span>
<span class="go">Confirm [yN]: y</span>
<span class="go">Enter password for signing key with index 0: ...</span>
<span class="go">Enter password for signing key with index 1: ...</span>
<span class="go">Enter password for signing key with index 3: ...</span>
<span class="go">Transaction &#39;7c484aecbc9dce654956cae1a6f9315679f62afe091d74f865f3602bc8003fbd&#39; sent to the baker.</span>
<span class="go">Waiting for the transaction to be committed and finalized.</span>
<span class="go">You may skip this step by interrupting the command using Ctrl-C (pass flag &#39;--no-wait&#39; to do this by default).</span>
<span class="go">The transaction will still get processed and may be queried using</span>
<span class="go">  &#39;transaction status 7c484aecbc9dce654956cae1a6f9315679f62afe091d74f865f3602bc8003fbd&#39;.</span>
<span class="go">[13:05:23] Waiting for the transaction to be committed.....</span>
<span class="go">Transaction is finalized into block e6912910ccf11a23413771eba395e1655fc86519759a2ce03439be9d5290292a with status &quot;success&quot; and cost 0.011200 GTU (112 NRG).</span>
<span class="go">[13:05:27] Waiting for the transaction to be finalized...</span>
<span class="go">[13:05:27] Transaction finalized.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="encrypted-transfer">
<h3>Encrypted transfer<a class="headerlink" href="#encrypted-transfer" title="Permalink to this headline">¶</a></h3>
<p>An encrypted transfer is a transfer from a shielded balance to a shielded
balance of another account. The command is very similar to a plain transfer</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>concordium-client transaction send-gtu-encrypted --sender A --receiver B --amount <span class="m">8</span>
</pre></div>
</div>
<p>This command will</p>
<ul class="simple">
<li><p>query the chain for the shielded balance of account A from the
Concordium network</p></li>
<li><p>decrypt it</p></li>
<li><p>query the encryption key of account B from the Concordium network</p></li>
<li><p>and send the transaction.</p></li>
</ul>
<p>The interaction looks as follows.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>concordium-client transaction send-gtu-encrypted --sender A --receiver B --amount <span class="m">8</span>
<span class="go">Using default energy amount of 30176 NRG.</span>
<span class="go">Enter password for decrypting the secret encryption key: ...</span>
<span class="go">Transferring 8.000000 GTU from encrypted balance of account &#39;4s9jugBpiZuDKNJu9PGAj57JseAze8fGaGJC2y3HmtCbBeTLAJ&#39; (A) to &#39;47JNHkJZo9ShomDypbiSJzdGN7FNxo8MwtUFsPa49KGvejf7Wh&#39; (B).</span>
<span class="go">Allowing up to 30176 NRG to be spent as transaction fee.</span>
<span class="go">Transaction expires at Sun,  4 Oct 2020 11:28:47 UTC.</span>
<span class="go">Confirm [yN]: y</span>
<span class="go">Enter password for signing key with index 0: ...</span>
<span class="go">Enter password for signing key with index 1: ...</span>
<span class="go">Enter password for signing key with index 3: ...</span>
<span class="go">Transaction &#39;af220cdeb5c092847de25e4681515d7d318a98223fc4d1dc9c65bda9f2060b19&#39; sent to the baker.</span>
<span class="go">Waiting for the transaction to be committed and finalized.</span>
<span class="go">You may skip this step by interrupting the command using Ctrl-C (pass flag &#39;--no-wait&#39; to do this by default).</span>
<span class="go">The transaction will still get processed and may be queried using</span>
<span class="go">  &#39;transaction status af220cdeb5c092847de25e4681515d7d318a98223fc4d1dc9c65bda9f2060b19&#39;.</span>
<span class="go">[13:20:24] Waiting for the transaction to be committed..............</span>
<span class="go">Transaction is finalized into block 552c32da51ca67a6579c1c151ee67440ade5a44f9ca69e13a4a042e7fcc1ee4c with status &quot;success&quot; and cost 3.012300 GTU (30123 NRG).</span>
<span class="go">[13:20:46] Waiting for the transaction to be finalized...</span>
<span class="go">[13:20:46] Transaction finalized.</span>
</pre></div>
</div>
<p>This command has all of the additional options of <code class="docutils literal notranslate"><span class="pre">send-gtu</span></code>, as well as an
additional flag <code class="docutils literal notranslate"><span class="pre">--index.</span></code> This flag, if given, is used to select which
<a class="reference internal" href="../resources/glossary.html#glossary-incoming-encrypted-amount"><span class="std std-ref">incoming encrypted amounts</span></a> that will be used as input to the transaction.
This is best illustrated on an example. <a class="reference internal" href="query-node.html#query-account-state"><span class="std std-ref">Querying an account</span></a> can display the
list of incoming amounts on account. An output could look as follows</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">...</span>
<span class="go">Encrypted balance:</span>
<span class="go">  Incoming amounts:</span>
<span class="go">    7: 8c0faff6739bffc531c5...</span>
<span class="go">    8: a7620250f8b4307565a8...</span>
<span class="go">    9: a67a39e44765e90987c4...</span>
<span class="go">  Self balance: c0000000000000000000...</span>
<span class="go">...</span>
</pre></div>
</div>
<p>If we were to <code class="docutils literal notranslate"><span class="pre">send-gtu-encrypted</span></code> from the account while supplying index 8,
only the encrypted amount <code class="docutils literal notranslate"><span class="pre">8c0faff6739bffc531c5...</span></code> and the <a class="reference internal" href="../resources/glossary.html#glossary-self-balance"><span class="std std-ref">self balance</span></a>
would be used as input of the encrypted transfer.</p>
<p>If the supplied index is out of range <code class="docutils literal notranslate"><span class="pre">concordium-client</span></code> will refuse to send
the transaction.</p>
</div>
<div class="section" id="shield-an-amount">
<h3>Shield an amount<a class="headerlink" href="#shield-an-amount" title="Permalink to this headline">¶</a></h3>
<p>The command to shield an amount with <code class="docutils literal notranslate"><span class="pre">concordium-client</span></code> is <code class="docutils literal notranslate"><span class="pre">account</span>
<span class="pre">encrypt</span></code>. For example, an interaction to shield 10 GTU on account A looks as
follows.</p>
<p>The command is</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>concordium-client account encrypt --amount <span class="m">10</span> --sender A
</pre></div>
</div>
<p>It supports all of the same additional flags as the transfer transaction, apart
from the <code class="docutils literal notranslate"><span class="pre">--receiver</span></code> since transfer from public to encrypted balance is
always on the same account. The output looks as follows</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Using default energy amount of 265 NRG.</span>
<span class="go">Transferring 10.000000 GTU from public to encrypted balance of account &#39;4s9jugBpiZuDKNJu9PGAj57JseAze8fGaGJC2y3HmtCbBeTLAJ&#39; (A).</span>
<span class="go">Allowing up to 265 NRG to be spent as transaction fee.</span>
<span class="go">Transaction expires at Sun,  4 Oct 2020 11:25:02 UTC.</span>
<span class="go">Confirm [yN]: y</span>
<span class="go">Enter password for signing key with index 0: ...</span>
<span class="go">Enter password for signing key with index 1: ...</span>
<span class="go">Enter password for signing key with index 3: ...</span>
<span class="go">Transaction &#39;9a74be8f99e26dfa0c269725205fb63d447c357ea61b8e6e4df8230059ba22f5&#39; sent to the baker.</span>
<span class="go">Waiting for the transaction to be committed and finalized.</span>
<span class="go">You may skip this step by interrupting the command using Ctrl-C (pass flag &#39;--no-wait&#39; to do this by default).</span>
<span class="go">The transaction will still get processed and may be queried using</span>
<span class="go">  &#39;transaction status 9a74be8f99e26dfa0c269725205fb63d447c357ea61b8e6e4df8230059ba22f5&#39;.</span>
<span class="go">[13:15:10] Waiting for the transaction to be committed.....</span>
<span class="go">Transaction is finalized into block c12e7772190d1361dc7d59a1cc873906436742e726d12213cb599eb48b97bd2c with status &quot;success&quot; and cost 0.021200 GTU (212 NRG).</span>
<span class="go">[13:15:14] Waiting for the transaction to be finalized...</span>
<span class="go">[13:15:14] Transaction finalized.</span>
</pre></div>
</div>
</div>
<div class="section" id="unshield-an-amount">
<h3>Unshield an amount<a class="headerlink" href="#unshield-an-amount" title="Permalink to this headline">¶</a></h3>
<p>The command to unshield an amount with <code class="docutils literal notranslate"><span class="pre">concordium-client</span></code> is
<code class="docutils literal notranslate"><span class="pre">account</span> <span class="pre">decrypt</span></code>. For example, an interaction to unshield 7 GTU on
account B looks as follows.</p>
<p>The command is</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>concordium-client account decrypt --sender B --amount <span class="m">7</span>
</pre></div>
</div>
<p>This will</p>
<ul class="simple">
<li><p>query the state of account B from the Concordium network</p></li>
<li><p>decrypt the shielded balance and check that it is sufficient</p></li>
<li><p>send the transaction</p></li>
</ul>
<p>This supports the same optional flags as <code class="docutils literal notranslate"><span class="pre">encrypt</span></code>, with the addition
of <code class="docutils literal notranslate"><span class="pre">--index</span></code> which has the same meaning as in the
<code class="docutils literal notranslate"><span class="pre">send-gtu-encrypted</span></code> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Using default energy amount of 16171 NRG.</span>
<span class="go">Enter password for decrypting the secret encryption key:</span>
<span class="go">Transferring 7.000000 GTU from encrypted to public balance of account &#39;47JNHkJZo9ShomDypbiSJzdGN7FNxo8MwtUFsPa49KGvejf7Wh&#39; (B).</span>
<span class="go">Allowing up to 16171 NRG to be spent as transaction fee.</span>
<span class="go">Transaction expires at Sun,  4 Oct 2020 11:44:07 UTC.</span>
<span class="go">Confirm [yN]: y</span>
<span class="go">Enter password for signing key with index 0: ...</span>
<span class="go">Enter password for signing key with index 1: ...</span>
<span class="go">Transaction &#39;b240ed919767b89a03984e71a0c39cff52f3374ab2b1721e489c02dc3fb1e691&#39; sent to the baker.</span>
<span class="go">Waiting for the transaction to be committed and finalized.</span>
<span class="go">You may skip this step by interrupting the command using Ctrl-C (pass flag &#39;--no-wait&#39; to do this by default).</span>
<span class="go">The transaction will still get processed and may be queried using</span>
<span class="go">  &#39;transaction status b240ed919767b89a03984e71a0c39cff52f3374ab2b1721e489c02dc3fb1e691&#39;.</span>
<span class="go">[13:34:16] Waiting for the transaction to be committed....</span>
<span class="go">Transaction is finalized into block e71a495c47734968214ac22e918f508949b02351b9f188d9b657b648927cf1ab with status &quot;success&quot; and cost 1.611800 GTU (16118 NRG).</span>
<span class="go">[13:34:18] Waiting for the transaction to be finalized...</span>
<span class="go">[13:34:18] Transaction finalized.</span>
</pre></div>
</div>
</div>
<div class="section" id="transfer-with-schedule">
<span id="transfer-with-a-schedule"></span><h3>Transfer with schedule<a class="headerlink" href="#transfer-with-schedule" title="Permalink to this headline">¶</a></h3>
<p>The command to send a transfer of GTU that will be released gradually over a
release schedule with <code class="docutils literal notranslate"><span class="pre">concordium-client</span></code> is <code class="docutils literal notranslate"><span class="pre">transaction</span> <span class="pre">send-gtu-scheduled</span></code>.
There are two ways of specifying the release schedule, either as regular intervals
or as an explicit schedule at specific timestamps.</p>
<p>When specifying the release schedule with regular intervals, the options <code class="docutils literal notranslate"><span class="pre">--amount</span></code>
, <code class="docutils literal notranslate"><span class="pre">--every</span></code>, <code class="docutils literal notranslate"><span class="pre">--for</span></code> and <code class="docutils literal notranslate"><span class="pre">--starting</span></code> must be provided. For example, sending a transaction from A to B that will:</p>
<ul class="simple">
<li><p>release the same amount every day</p></li>
<li><p>for 10 days in a row</p></li>
<li><p>for a total amount of 100 GTU</p></li>
<li><p>starting on the 10th of February 2021 at 12:00:00 UTC</p></li>
</ul>
<p>would be done with the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>concordium-client transaction send-gtu-scheduled --amount <span class="m">100</span> --every Day --for <span class="m">10</span> --starting <span class="m">2021</span>-02-10T12:00:00Z --receiver B --sender A
</pre></div>
</div>
<p>When specifying the release schedule explicitly, the option <code class="docutils literal notranslate"><span class="pre">--schedule</span></code> must be used
which takes a comma-separated list of releases in the form of <code class="docutils literal notranslate"><span class="pre">&lt;amount&gt;</span> <span class="pre">at</span> <span class="pre">&lt;date&gt;</span></code>. For example,
sending a transaction from A to B that will:</p>
<ul class="simple">
<li><p>release 100 on January 1st 2021 at 12:00:00 UTC</p></li>
<li><p>release 150 on February 15th 2021 at 12:00:00 UTC</p></li>
<li><p>release 200 on December 31st 2021 at 12:00:00 UTC</p></li>
</ul>
<p>would be done with the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>concordium-client transaction send-gtu-scheduled --schedule <span class="s2">&quot;100 at 2021-01-01T12:00:00Z, 150 at 2021-02-15T12:00:00Z, 200 at 2021-12-31T12:00:00Z&quot;</span> --receiver B --sender A
</pre></div>
</div>
<p>Querying account information of the receiver account afterwards, will show the
list of releases that are still pending to be released:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>concordium-client account show B
<span class="go">Local name:            B</span>
<span class="go">Address:               3WbgGP2iE21HyrBg5kL429ZXWu2dNDXzzjZ7qwu9neop2bSCRJ</span>
<span class="go">Balance:               550.000000 GTU</span>
<span class="go">Release schedule:      total 450.000000 GTU</span>
<span class="go">   Fri, 1 Jan 2021 12:00:00 UTC:                100.000000 GTU scheduled by the transactions: bab4a6309e9c0fab00cacf31e5de21ff1fed525a2d0b69e033e356b1cfae99eb.</span>
<span class="go">   Mon, 15 Feb 2021 12:00:00 UTC:               150.000000 GTU scheduled by the transactions: bab4a6309e9c0fab00cacf31e5de21ff1fed525a2d0b69e033e356b1cfae99eb.</span>
<span class="go">   Fri, 31 Dec 2021 12:00:00 UTC:               200.000000 GTU scheduled by the transactions: bab4a6309e9c0fab00cacf31e5de21ff1fed525a2d0b69e033e356b1cfae99eb.</span>
<span class="go">Nonce:                 1</span>
<span class="go">...</span>
</pre></div>
</div>
<p>The amount that is not yet released is also accounted in the <code class="docutils literal notranslate"><span class="pre">Balance</span></code> field
so in this case the account owns <code class="docutils literal notranslate"><span class="pre">100</span> <span class="pre">GTU</span></code> that don’t belong to any pending
release schedule.</p>
</div>
</div>
<div class="section" id="support-feedback">
<h2>Support &amp; Feedback<a class="headerlink" href="#support-feedback" title="Permalink to this headline">¶</a></h2>
<p>If you have questions or feedback, join us on <a class="reference external" href="https://support.concordium.software/">Discourse</a>, or contact us at <a class="reference external" href="mailto:support&#37;&#52;&#48;concordium&#46;software">support<span>&#64;</span>concordium<span>&#46;</span>software</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
<a href="http://creativecommons.org/licenses/by-sa/4.0/">
    <img style="margin-bottom: 0.5em" src="../../_static/cc-sa-by.png" />
</a>

    <p>
        &#169; Copyright 2021, Concordium Software ApS.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: testnet
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      <dd><a href="/en/mainnet/">mainnet</a></dd>
      <dd><a href="/en/testnet/">testnet</a></dd>
    </dl>
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TE81YY48VB"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', { 'ad_storage': 'denied', 'analytics_storage': loadChoice() ? 'granted' : 'denied' });
gtag('js', new Date());
gtag('config', 'G-TE81YY48VB', {'anonymize_ip': true});

// Save the choice in a cookie
function storeChoice(granted) {
    document.cookie = "cookie-consent=" + granted
}

// Look for a cookie storing the previous choice of the user.
// Returns undefined if no choice was stored, otherwise a boolean for whether the
// user gave consent.
function loadChoice() {
    if (!document.cookie.includes("cookie-consent=")) {
        return undefined;
    }
    return document.cookie.includes("cookie-consent=true")
}

// Removes the cookie consent banner
function removeCookieConsentBanner() {
    document.getElementById("cookie-consent").remove()
}

// Called by the cookie consent banner if granted permission
function consentGranted() {
    storeChoice(true)
    gtag('consent', 'update', { 'ad_storage': 'denied', 'analytics_storage': 'granted' });
    removeCookieConsentBanner()
}

// Called by the cookie consent banner if denied permission
function consentDenied() {
    storeChoice(false)
    removeCookieConsentBanner()
}


</script>
<div id="cookie-consent" class="consent">
    <p>We use cookies to ensure that we give you the best experience on our website, but only if you grant us the permission</p>
    <button onclick="consentGranted()">Allow</button>
    <button onclick="consentDenied()">Disallow</button>
    <a href="https://concordium.com/privacy-policy/">Privacy policy</a>
</div>
<script>
    const stored = loadChoice();
    if (stored !== undefined) {
        removeCookieConsentBanner()
    }
</script>


</body>
</html>